[2016-08-13 08:24:15] <info>  数据初始化完成!
[2016-08-13 08:24:15] <info>  sudo ovs-vsctl add-br br_60d9c00b_1_2
[2016-08-13 08:24:15] <info>  sudo ovs-vsctl add-br br_60d9c00b_1_3
[2016-08-13 08:24:15] <info>  sudo ovs-vsctl add-br br_60d9c00b_0_1
[2016-08-13 08:24:15] <info>  sudo ovs-vsctl add-br br_d2461479
[2016-08-13 08:24:15] <info>  sudo ovs-vsctl add-br br_efc028af
[2016-08-13 08:24:15] <info>  sudo ovs-vsctl add-br br_64ad87cf
[2016-08-13 08:24:15] <info>  sudo ovs-vsctl add-br br_4ae6ef3c
[2016-08-13 08:24:15] <info>  网桥创建完成!
[2016-08-13 08:24:15] <info>  sudo  docker-compose -f /home/hitnslab/docker/demo/user/bf33578c/docker-compose.yaml  scale   router_d2461479=1  router_efc028af=1  efc028af_0=1   efc028af_1=1   efc028af_2=1   router_64ad87cf=1  64ad87cf_0=4   64ad87cf_1=1   router_4ae6ef3c=1  4ae6ef3c_0=1   4ae6ef3c_1=1   4ae6ef3c_2=3   
[2016-08-13 08:24:15] <info>  docker创建完成!
[2016-08-13 08:24:15] <info>  virsh dumpxml web-attacker-windows > /home/hitnslab/docker/demo/user/bf33578c/bf33578c_d2461479_0_1.xml
[2016-08-13 08:24:15] <error>  Traceback (most recent call last):
  File "/home/hitnslab/docker/demo/bin/topo_operate.py", line 87, in TopoCreate
    config,network_core_list=self.kvm_operate.KvmCreate(config,network_topo["network_core_list"],user_info["user_id"])
  File "/home/hitnslab/docker/demo/bin/kvm_operate.py", line 165, in KvmCreate
    host_info=self.KvmPreStart(host_data,argv)
  File "/home/hitnslab/docker/demo/bin/kvm_operate.py", line 110, in KvmPreStart
    img = self.EidtXml(node)
  File "/home/hitnslab/docker/demo/bin/kvm_operate.py", line 29, in EidtXml
    tree = ET.parse(node['xml'])
  File "/usr/lib/python2.7/xml/etree/ElementTree.py", line 1182, in parse
    tree.parse(source, parser)
  File "/usr/lib/python2.7/xml/etree/ElementTree.py", line 657, in parse
    self._root = parser.close()
  File "/usr/lib/python2.7/xml/etree/ElementTree.py", line 1654, in close
    self._raiseerror(v)
  File "/usr/lib/python2.7/xml/etree/ElementTree.py", line 1506, in _raiseerror
    raise err
ParseError: no element found: line 2, column 0

[2016-08-13 09:48:24] <info>  数据初始化完成!
[2016-08-13 09:48:24] <info>  sudo ovs-vsctl add-br br_60d9c00b_1_2
[2016-08-13 09:48:24] <info>  sudo ovs-vsctl add-br br_60d9c00b_1_3
[2016-08-13 09:48:24] <info>  sudo ovs-vsctl add-br br_60d9c00b_0_1
[2016-08-13 09:48:24] <info>  sudo ovs-vsctl add-br br_d2461479
[2016-08-13 09:48:24] <info>  sudo ovs-vsctl add-br br_efc028af
[2016-08-13 09:48:24] <info>  sudo ovs-vsctl add-br br_64ad87cf
[2016-08-13 09:48:24] <info>  sudo ovs-vsctl add-br br_4ae6ef3c
[2016-08-13 09:48:24] <info>  网桥创建完成!
[2016-08-13 09:48:24] <info>  sudo  docker-compose -f /home/hitnslab/docker/demo/user/bf33578c/docker-compose.yaml  scale   router_d2461479=1  router_efc028af=1  efc028af_0=1   efc028af_1=1   efc028af_2=1   router_64ad87cf=1  64ad87cf_0=4   64ad87cf_1=1   router_4ae6ef3c=1  4ae6ef3c_0=1   4ae6ef3c_1=1   4ae6ef3c_2=3   
[2016-08-13 09:48:24] <info>  docker创建完成!
[2016-08-13 09:48:24] <info>  virsh dumpxml web-attacker-windows > /home/hitnslab/docker/demo/user/bf33578c/bf33578c_d2461479_0_1.xml
[2016-08-13 09:48:24] <info>  cp /var/lib/libvirt/images/web-attacker-windows.img /var/lib/libvirt/images/bf33578c_d2461479_0_1
[2016-08-13 09:48:24] <info>  virsh define /home/hitnslab/docker/demo/user/bf33578c/bf33578c_d2461479_0_1.xml
[2016-08-13 09:48:24] <info>  kvm创建完成!
[2016-08-13 09:48:24] <info>  sudo ovs-docker add-port br_d2461479 eth0 bf33578c_router_d2461479_1
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_router_d2461479_1 ifconfig eth0 10.0.0.1/24
[2016-08-13 09:48:24] <info>  sudo virt-copy-in -d bf33578c_d2461479_0_1 /home/hitnslab/docker/demo/user/bf33578c/setip.bat /
[2016-08-13 09:48:24] <info>  virsh start bf33578c_d2461479_0_1
[2016-08-13 09:48:24] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_router_efc028af_1
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig eth0 10.0.1.1/24
[2016-08-13 09:48:24] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_efc028af_0_1
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_efc028af_0_1 ifconfig eth0 10.0.1.2/24
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_efc028af_0_1 route add default gw 10.0.1.1
[2016-08-13 09:48:24] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_efc028af_1_1
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_efc028af_1_1 ifconfig eth0 10.0.1.3/24
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_efc028af_1_1 route add default gw 10.0.1.1
[2016-08-13 09:48:24] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_efc028af_2_1
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_efc028af_2_1 ifconfig eth0 10.0.1.4/24
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_efc028af_2_1 route add default gw 10.0.1.1
[2016-08-13 09:48:24] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_router_64ad87cf_1
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_router_64ad87cf_1 ifconfig eth0 10.0.2.1/24
[2016-08-13 09:48:24] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_1
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_64ad87cf_0_1 ifconfig eth0 10.0.2.2/24
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_64ad87cf_0_1 route add default gw 10.0.2.1
[2016-08-13 09:48:24] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_2
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_64ad87cf_0_2 ifconfig eth0 10.0.2.3/24
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_64ad87cf_0_2 route add default gw 10.0.2.1
[2016-08-13 09:48:24] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_3
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_64ad87cf_0_3 ifconfig eth0 10.0.2.4/24
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_64ad87cf_0_3 route add default gw 10.0.2.1
[2016-08-13 09:48:24] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_4
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_64ad87cf_0_4 ifconfig eth0 10.0.2.5/24
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_64ad87cf_0_4 route add default gw 10.0.2.1
[2016-08-13 09:48:24] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_1_1
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_64ad87cf_1_1 ifconfig eth0 10.0.2.6/24
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_64ad87cf_1_1 route add default gw 10.0.2.1
[2016-08-13 09:48:24] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_router_4ae6ef3c_1
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 ifconfig eth0 10.0.3.1/24
[2016-08-13 09:48:24] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_0_1
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_4ae6ef3c_0_1 ifconfig eth0 10.0.3.2/24
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_4ae6ef3c_0_1 route add default gw 10.0.3.1
[2016-08-13 09:48:24] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_1_1
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_4ae6ef3c_1_1 ifconfig eth0 10.0.3.3/24
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_4ae6ef3c_1_1 route add default gw 10.0.3.1
[2016-08-13 09:48:24] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_2_1
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_4ae6ef3c_2_1 ifconfig eth0 10.0.3.4/24
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_4ae6ef3c_2_1 route add default gw 10.0.3.1
[2016-08-13 09:48:24] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_2_2
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_4ae6ef3c_2_2 ifconfig eth0 10.0.3.5/24
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_4ae6ef3c_2_2 route add default gw 10.0.3.1
[2016-08-13 09:48:24] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_2_3
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_4ae6ef3c_2_3 ifconfig eth0 10.0.3.6/24
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_4ae6ef3c_2_3 route add default gw 10.0.3.1
[2016-08-13 09:48:24] <info>  sudo ovs-docker add-port br_60d9c00b_1_2 br_1_2 bf33578c_router_efc028af_1
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig br_1_2 20.0.0.1/30
[2016-08-13 09:48:24] <info>  sudo ovs-docker add-port br_60d9c00b_1_2 br_1_2 bf33578c_router_64ad87cf_1
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_router_64ad87cf_1 ifconfig br_1_2 20.0.0.2/30
[2016-08-13 09:48:24] <info>  sudo ovs-docker add-port br_60d9c00b_1_3 br_1_3 bf33578c_router_efc028af_1
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig br_1_3 20.0.0.5/30
[2016-08-13 09:48:24] <info>  sudo ovs-docker add-port br_60d9c00b_1_3 br_1_3 bf33578c_router_4ae6ef3c_1
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 ifconfig br_1_3 20.0.0.6/30
[2016-08-13 09:48:24] <info>  sudo ovs-docker add-port br_60d9c00b_0_1 br_0_1 bf33578c_router_d2461479_1
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_router_d2461479_1 ifconfig br_0_1 20.0.0.9/30
[2016-08-13 09:48:24] <info>  sudo ovs-docker add-port br_60d9c00b_0_1 br_0_1 bf33578c_router_efc028af_1
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig br_0_1 20.0.0.10/30
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_router_d2461479_1 route add -net 10.0.1.0 netmask 255.255.255.0 gw 20.0.0.10
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_router_d2461479_1 route add -net 10.0.2.0 netmask 255.255.255.0 gw 20.0.0.10
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_router_d2461479_1 route add -net 10.0.3.0 netmask 255.255.255.0 gw 20.0.0.10
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_router_efc028af_1 route add -net 10.0.0.0 netmask 255.255.255.0 gw 20.0.0.9
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_router_efc028af_1 route add -net 10.0.2.0 netmask 255.255.255.0 gw 20.0.0.2
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_router_efc028af_1 route add -net 10.0.3.0 netmask 255.255.255.0 gw 20.0.0.6
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_router_64ad87cf_1 route add -net 10.0.0.0 netmask 255.255.255.0 gw 20.0.0.1
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_router_64ad87cf_1 route add -net 10.0.1.0 netmask 255.255.255.0 gw 20.0.0.1
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_router_64ad87cf_1 route add -net 10.0.3.0 netmask 255.255.255.0 gw 20.0.0.1
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 route add -net 10.0.0.0 netmask 255.255.255.0 gw 20.0.0.5
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 route add -net 10.0.1.0 netmask 255.255.255.0 gw 20.0.0.5
[2016-08-13 09:48:24] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 route add -net 10.0.2.0 netmask 255.255.255.0 gw 20.0.0.5
[2016-08-13 09:48:24] <info>  网络配置完成!
[2016-08-13 09:48:24] <info>  添加vnc设置完成!
[2016-08-13 09:48:24] <info>  数据库存储完成!
[2016-08-13 09:48:24] <info>  拓扑创建成功!
[2016-08-13 10:12:59] <info>  数据初始化完成!
[2016-08-13 10:12:59] <info>  sudo ovs-vsctl add-br br_60d9c00b_1_2
[2016-08-13 10:12:59] <info>  sudo ovs-vsctl add-br br_60d9c00b_1_3
[2016-08-13 10:12:59] <info>  sudo ovs-vsctl add-br br_60d9c00b_0_1
[2016-08-13 10:12:59] <info>  sudo ovs-vsctl add-br br_d2461479
[2016-08-13 10:12:59] <info>  sudo ovs-vsctl add-br br_efc028af
[2016-08-13 10:12:59] <info>  sudo ovs-vsctl add-br br_64ad87cf
[2016-08-13 10:12:59] <info>  sudo ovs-vsctl add-br br_4ae6ef3c
[2016-08-13 10:12:59] <info>  网桥创建完成!
[2016-08-13 10:13:04] <info>  sudo  docker-compose -f /home/hitnslab/docker/demo/user/bf33578c/docker-compose.yaml  scale   router_d2461479=1  router_efc028af=1  efc028af_0=1   efc028af_1=1   efc028af_2=1   router_64ad87cf=1  64ad87cf_0=4   64ad87cf_1=1   router_4ae6ef3c=1  4ae6ef3c_0=1   4ae6ef3c_1=1   4ae6ef3c_2=3   
[2016-08-13 10:13:04] <info>  docker创建完成!
[2016-08-13 10:13:04] <info>  virsh dumpxml web-attacker-windows > /home/hitnslab/docker/demo/user/bf33578c/bf33578c_d2461479_0_1.xml
[2016-08-13 10:13:04] <info>  cp /var/lib/libvirt/images/web-attacker-windows.img /var/lib/libvirt/images/bf33578c_d2461479_0_1
[2016-08-13 10:13:04] <info>  virsh define /home/hitnslab/docker/demo/user/bf33578c/bf33578c_d2461479_0_1.xml
[2016-08-13 10:13:04] <info>  kvm创建完成!
[2016-08-13 10:13:05] <info>  sudo ovs-docker add-port br_d2461479 eth0 bf33578c_router_d2461479_1
[2016-08-13 10:13:05] <info>  sudo docker exec bf33578c_router_d2461479_1 ifconfig eth0 10.0.0.1/24
[2016-08-13 10:13:12] <info>  sudo virt-copy-in -d bf33578c_d2461479_0_1 /home/hitnslab/docker/demo/user/bf33578c/setip.bat /
[2016-08-13 10:13:12] <info>  virsh start bf33578c_d2461479_0_1
[2016-08-13 10:13:13] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_router_efc028af_1
[2016-08-13 10:13:13] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig eth0 10.0.1.1/24
[2016-08-13 10:13:13] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_efc028af_0_1
[2016-08-13 10:13:13] <info>  sudo docker exec bf33578c_efc028af_0_1 ifconfig eth0 10.0.1.2/24
[2016-08-13 10:13:13] <info>  sudo docker exec bf33578c_efc028af_0_1 route add default gw 10.0.1.1
[2016-08-13 10:13:13] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_efc028af_1_1
[2016-08-13 10:13:13] <info>  sudo docker exec bf33578c_efc028af_1_1 ifconfig eth0 10.0.1.3/24
[2016-08-13 10:13:13] <info>  sudo docker exec bf33578c_efc028af_1_1 route add default gw 10.0.1.1
[2016-08-13 10:13:13] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_efc028af_2_1
[2016-08-13 10:13:13] <info>  sudo docker exec bf33578c_efc028af_2_1 ifconfig eth0 10.0.1.4/24
[2016-08-13 10:13:13] <info>  sudo docker exec bf33578c_efc028af_2_1 route add default gw 10.0.1.1
[2016-08-13 10:13:13] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_router_64ad87cf_1
[2016-08-13 10:13:14] <info>  sudo docker exec bf33578c_router_64ad87cf_1 ifconfig eth0 10.0.2.1/24
[2016-08-13 10:13:14] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_1
[2016-08-13 10:13:14] <info>  sudo docker exec bf33578c_64ad87cf_0_1 ifconfig eth0 10.0.2.2/24
[2016-08-13 10:13:14] <info>  sudo docker exec bf33578c_64ad87cf_0_1 route add default gw 10.0.2.1
[2016-08-13 10:13:14] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_2
[2016-08-13 10:13:14] <info>  sudo docker exec bf33578c_64ad87cf_0_2 ifconfig eth0 10.0.2.3/24
[2016-08-13 10:13:14] <info>  sudo docker exec bf33578c_64ad87cf_0_2 route add default gw 10.0.2.1
[2016-08-13 10:13:14] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_3
[2016-08-13 10:13:14] <info>  sudo docker exec bf33578c_64ad87cf_0_3 ifconfig eth0 10.0.2.4/24
[2016-08-13 10:13:14] <info>  sudo docker exec bf33578c_64ad87cf_0_3 route add default gw 10.0.2.1
[2016-08-13 10:13:14] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_4
[2016-08-13 10:13:14] <info>  sudo docker exec bf33578c_64ad87cf_0_4 ifconfig eth0 10.0.2.5/24
[2016-08-13 10:13:14] <info>  sudo docker exec bf33578c_64ad87cf_0_4 route add default gw 10.0.2.1
[2016-08-13 10:13:14] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_1_1
[2016-08-13 10:13:14] <info>  sudo docker exec bf33578c_64ad87cf_1_1 ifconfig eth0 10.0.2.6/24
[2016-08-13 10:13:14] <info>  sudo docker exec bf33578c_64ad87cf_1_1 route add default gw 10.0.2.1
[2016-08-13 10:13:14] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_router_4ae6ef3c_1
[2016-08-13 10:13:14] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 ifconfig eth0 10.0.3.1/24
[2016-08-13 10:13:14] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_0_1
[2016-08-13 10:13:14] <info>  sudo docker exec bf33578c_4ae6ef3c_0_1 ifconfig eth0 10.0.3.2/24
[2016-08-13 10:13:14] <info>  sudo docker exec bf33578c_4ae6ef3c_0_1 route add default gw 10.0.3.1
[2016-08-13 10:13:14] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_1_1
[2016-08-13 10:13:14] <info>  sudo docker exec bf33578c_4ae6ef3c_1_1 ifconfig eth0 10.0.3.3/24
[2016-08-13 10:13:14] <info>  sudo docker exec bf33578c_4ae6ef3c_1_1 route add default gw 10.0.3.1
[2016-08-13 10:13:14] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_2_1
[2016-08-13 10:13:14] <info>  sudo docker exec bf33578c_4ae6ef3c_2_1 ifconfig eth0 10.0.3.4/24
[2016-08-13 10:13:14] <info>  sudo docker exec bf33578c_4ae6ef3c_2_1 route add default gw 10.0.3.1
[2016-08-13 10:13:14] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_2_2
[2016-08-13 10:13:14] <info>  sudo docker exec bf33578c_4ae6ef3c_2_2 ifconfig eth0 10.0.3.5/24
[2016-08-13 10:13:14] <info>  sudo docker exec bf33578c_4ae6ef3c_2_2 route add default gw 10.0.3.1
[2016-08-13 10:13:14] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_2_3
[2016-08-13 10:13:14] <info>  sudo docker exec bf33578c_4ae6ef3c_2_3 ifconfig eth0 10.0.3.6/24
[2016-08-13 10:13:14] <info>  sudo docker exec bf33578c_4ae6ef3c_2_3 route add default gw 10.0.3.1
[2016-08-13 10:13:15] <info>  sudo ovs-docker add-port br_60d9c00b_1_2 br_1_2 bf33578c_router_efc028af_1
[2016-08-13 10:13:15] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig br_1_2 20.0.0.1/30
[2016-08-13 10:13:15] <info>  sudo ovs-docker add-port br_60d9c00b_1_2 br_1_2 bf33578c_router_64ad87cf_1
[2016-08-13 10:13:15] <info>  sudo docker exec bf33578c_router_64ad87cf_1 ifconfig br_1_2 20.0.0.2/30
[2016-08-13 10:13:15] <info>  sudo ovs-docker add-port br_60d9c00b_1_3 br_1_3 bf33578c_router_efc028af_1
[2016-08-13 10:13:15] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig br_1_3 20.0.0.5/30
[2016-08-13 10:13:15] <info>  sudo ovs-docker add-port br_60d9c00b_1_3 br_1_3 bf33578c_router_4ae6ef3c_1
[2016-08-13 10:13:15] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 ifconfig br_1_3 20.0.0.6/30
[2016-08-13 10:13:16] <info>  sudo ovs-docker add-port br_60d9c00b_0_1 br_0_1 bf33578c_router_d2461479_1
[2016-08-13 10:13:16] <info>  sudo docker exec bf33578c_router_d2461479_1 ifconfig br_0_1 20.0.0.9/30
[2016-08-13 10:13:16] <info>  sudo ovs-docker add-port br_60d9c00b_0_1 br_0_1 bf33578c_router_efc028af_1
[2016-08-13 10:13:16] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig br_0_1 20.0.0.10/30
[2016-08-13 10:13:16] <info>  sudo docker exec bf33578c_router_d2461479_1 route add -net 10.0.1.0 netmask 255.255.255.0 gw 20.0.0.10
[2016-08-13 10:13:16] <info>  sudo docker exec bf33578c_router_d2461479_1 route add -net 10.0.2.0 netmask 255.255.255.0 gw 20.0.0.10
[2016-08-13 10:13:17] <info>  sudo docker exec bf33578c_router_d2461479_1 route add -net 10.0.3.0 netmask 255.255.255.0 gw 20.0.0.10
[2016-08-13 10:13:17] <info>  sudo docker exec bf33578c_router_efc028af_1 route add -net 10.0.0.0 netmask 255.255.255.0 gw 20.0.0.9
[2016-08-13 10:13:17] <info>  sudo docker exec bf33578c_router_efc028af_1 route add -net 10.0.2.0 netmask 255.255.255.0 gw 20.0.0.2
[2016-08-13 10:13:17] <info>  sudo docker exec bf33578c_router_efc028af_1 route add -net 10.0.3.0 netmask 255.255.255.0 gw 20.0.0.6
[2016-08-13 10:13:17] <info>  sudo docker exec bf33578c_router_64ad87cf_1 route add -net 10.0.0.0 netmask 255.255.255.0 gw 20.0.0.1
[2016-08-13 10:13:17] <info>  sudo docker exec bf33578c_router_64ad87cf_1 route add -net 10.0.1.0 netmask 255.255.255.0 gw 20.0.0.1
[2016-08-13 10:13:17] <info>  sudo docker exec bf33578c_router_64ad87cf_1 route add -net 10.0.3.0 netmask 255.255.255.0 gw 20.0.0.1
[2016-08-13 10:13:17] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 route add -net 10.0.0.0 netmask 255.255.255.0 gw 20.0.0.5
[2016-08-13 10:13:17] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 route add -net 10.0.1.0 netmask 255.255.255.0 gw 20.0.0.5
[2016-08-13 10:13:17] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 route add -net 10.0.2.0 netmask 255.255.255.0 gw 20.0.0.5
[2016-08-13 10:13:17] <info>  网络配置完成!
[2016-08-13 10:13:17] <info>  添加vnc设置完成!
[2016-08-13 10:13:17] <info>  数据库存储完成!
[2016-08-13 10:13:17] <info>  拓扑创建成功!
[2016-08-13 10:18:42] <info>  virsh destroy bf33578c_d2461479_0_1
[2016-08-13 10:18:42] <info>  virsh undefine bf33578c_d2461479_0_1
[2016-08-13 10:18:42] <info>  rm -f /var/lib/libvirt/images/bf33578c_d2461479_0_1
[2016-08-13 10:18:42] <info>  删除kvm完成!
[2016-08-13 10:18:54] <info>  sudo  docker-compose -f /home/hitnslab/docker/demo/user/bf33578c/docker-compose.yaml  stop
[2016-08-13 10:18:54] <info>  sudo  docker-compose -f /home/hitnslab/docker/demo/user/bf33578c/docker-compose.yaml  rm  -f
[2016-08-13 10:18:54] <info>  删除docker完成!
[2016-08-13 10:18:54] <info>  sudo ovs-vsctl del-br br_60d9c00b_1_2
[2016-08-13 10:18:54] <info>  sudo ovs-vsctl del-br br_60d9c00b_1_3
[2016-08-13 10:18:54] <info>  sudo ovs-vsctl del-br br_60d9c00b_0_1
[2016-08-13 10:18:54] <info>  sudo ovs-vsctl del-br br_d2461479
[2016-08-13 10:18:54] <info>  sudo ovs-vsctl del-br br_efc028af
[2016-08-13 10:18:54] <info>  sudo ovs-vsctl del-br br_64ad87cf
[2016-08-13 10:18:55] <info>  sudo ovs-vsctl del-br br_4ae6ef3c
[2016-08-13 10:18:55] <info>  删除ovs网桥完成!
[2016-08-13 10:18:55] <info>  删除vnc端口完成!
[2016-08-13 10:23:53] <info>  数据初始化完成!
[2016-08-13 10:23:53] <info>  sudo ovs-vsctl add-br br_60d9c00b_1_2
[2016-08-13 10:23:53] <info>  sudo ovs-vsctl add-br br_60d9c00b_1_3
[2016-08-13 10:23:53] <info>  sudo ovs-vsctl add-br br_60d9c00b_0_1
[2016-08-13 10:23:53] <info>  sudo ovs-vsctl add-br br_d2461479
[2016-08-13 10:23:53] <info>  sudo ovs-vsctl add-br br_efc028af
[2016-08-13 10:23:53] <info>  sudo ovs-vsctl add-br br_64ad87cf
[2016-08-13 10:23:53] <info>  sudo ovs-vsctl add-br br_4ae6ef3c
[2016-08-13 10:23:53] <info>  网桥创建完成!
[2016-08-13 10:24:12] <info>  sudo  docker-compose -f /home/hitnslab/docker/demo/user/bf33578c/docker-compose.yaml  scale   router_d2461479=1  router_efc028af=1  efc028af_0=1   efc028af_1=1   efc028af_2=1   router_64ad87cf=1  64ad87cf_0=4   64ad87cf_1=1   router_4ae6ef3c=1  4ae6ef3c_0=1   4ae6ef3c_1=1   4ae6ef3c_2=3   
[2016-08-13 10:24:12] <info>  docker创建完成!
[2016-08-13 10:24:12] <info>  virsh dumpxml web-attacker-windows > /home/hitnslab/docker/demo/user/bf33578c/bf33578c_d2461479_0_1.xml
[2016-08-13 10:24:12] <info>  cp /var/lib/libvirt/images/web-attacker-windows.img /var/lib/libvirt/images/bf33578c_d2461479_0_1
[2016-08-13 10:24:12] <info>  virsh define /home/hitnslab/docker/demo/user/bf33578c/bf33578c_d2461479_0_1.xml
[2016-08-13 10:24:12] <info>  kvm创建完成!
[2016-08-13 10:24:12] <info>  sudo ovs-docker add-port br_d2461479 eth0 bf33578c_router_d2461479_1
[2016-08-13 10:24:12] <info>  sudo docker exec bf33578c_router_d2461479_1 ifconfig eth0 10.0.0.1/24
[2016-08-13 10:24:16] <info>  sudo virt-copy-in -d bf33578c_d2461479_0_1 /home/hitnslab/docker/demo/user/bf33578c/setip.bat /
[2016-08-13 10:24:16] <info>  virsh start bf33578c_d2461479_0_1
[2016-08-13 10:24:16] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_router_efc028af_1
[2016-08-13 10:24:16] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig eth0 10.0.1.1/24
[2016-08-13 10:24:17] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_efc028af_0_1
[2016-08-13 10:24:17] <info>  sudo docker exec bf33578c_efc028af_0_1 ifconfig eth0 10.0.1.2/24
[2016-08-13 10:24:17] <info>  sudo docker exec bf33578c_efc028af_0_1 route add default gw 10.0.1.1
[2016-08-13 10:24:17] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_efc028af_1_1
[2016-08-13 10:24:17] <info>  sudo docker exec bf33578c_efc028af_1_1 ifconfig eth0 10.0.1.3/24
[2016-08-13 10:24:17] <info>  sudo docker exec bf33578c_efc028af_1_1 route add default gw 10.0.1.1
[2016-08-13 10:24:17] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_efc028af_2_1
[2016-08-13 10:24:17] <info>  sudo docker exec bf33578c_efc028af_2_1 ifconfig eth0 10.0.1.4/24
[2016-08-13 10:24:17] <info>  sudo docker exec bf33578c_efc028af_2_1 route add default gw 10.0.1.1
[2016-08-13 10:24:18] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_router_64ad87cf_1
[2016-08-13 10:24:18] <info>  sudo docker exec bf33578c_router_64ad87cf_1 ifconfig eth0 10.0.2.1/24
[2016-08-13 10:24:18] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_1
[2016-08-13 10:24:18] <info>  sudo docker exec bf33578c_64ad87cf_0_1 ifconfig eth0 10.0.2.2/24
[2016-08-13 10:24:18] <info>  sudo docker exec bf33578c_64ad87cf_0_1 route add default gw 10.0.2.1
[2016-08-13 10:24:18] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_2
[2016-08-13 10:24:18] <info>  sudo docker exec bf33578c_64ad87cf_0_2 ifconfig eth0 10.0.2.3/24
[2016-08-13 10:24:18] <info>  sudo docker exec bf33578c_64ad87cf_0_2 route add default gw 10.0.2.1
[2016-08-13 10:24:18] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_3
[2016-08-13 10:24:18] <info>  sudo docker exec bf33578c_64ad87cf_0_3 ifconfig eth0 10.0.2.4/24
[2016-08-13 10:24:18] <info>  sudo docker exec bf33578c_64ad87cf_0_3 route add default gw 10.0.2.1
[2016-08-13 10:24:19] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_4
[2016-08-13 10:24:19] <info>  sudo docker exec bf33578c_64ad87cf_0_4 ifconfig eth0 10.0.2.5/24
[2016-08-13 10:24:19] <info>  sudo docker exec bf33578c_64ad87cf_0_4 route add default gw 10.0.2.1
[2016-08-13 10:24:19] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_1_1
[2016-08-13 10:24:19] <info>  sudo docker exec bf33578c_64ad87cf_1_1 ifconfig eth0 10.0.2.6/24
[2016-08-13 10:24:19] <info>  sudo docker exec bf33578c_64ad87cf_1_1 route add default gw 10.0.2.1
[2016-08-13 10:24:19] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_router_4ae6ef3c_1
[2016-08-13 10:24:19] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 ifconfig eth0 10.0.3.1/24
[2016-08-13 10:24:19] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_0_1
[2016-08-13 10:24:19] <info>  sudo docker exec bf33578c_4ae6ef3c_0_1 ifconfig eth0 10.0.3.2/24
[2016-08-13 10:24:19] <info>  sudo docker exec bf33578c_4ae6ef3c_0_1 route add default gw 10.0.3.1
[2016-08-13 10:24:20] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_1_1
[2016-08-13 10:24:20] <info>  sudo docker exec bf33578c_4ae6ef3c_1_1 ifconfig eth0 10.0.3.3/24
[2016-08-13 10:24:20] <info>  sudo docker exec bf33578c_4ae6ef3c_1_1 route add default gw 10.0.3.1
[2016-08-13 10:24:20] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_2_1
[2016-08-13 10:24:20] <info>  sudo docker exec bf33578c_4ae6ef3c_2_1 ifconfig eth0 10.0.3.4/24
[2016-08-13 10:24:20] <info>  sudo docker exec bf33578c_4ae6ef3c_2_1 route add default gw 10.0.3.1
[2016-08-13 10:24:20] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_2_2
[2016-08-13 10:24:20] <info>  sudo docker exec bf33578c_4ae6ef3c_2_2 ifconfig eth0 10.0.3.5/24
[2016-08-13 10:24:20] <info>  sudo docker exec bf33578c_4ae6ef3c_2_2 route add default gw 10.0.3.1
[2016-08-13 10:24:20] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_2_3
[2016-08-13 10:24:20] <info>  sudo docker exec bf33578c_4ae6ef3c_2_3 ifconfig eth0 10.0.3.6/24
[2016-08-13 10:24:20] <info>  sudo docker exec bf33578c_4ae6ef3c_2_3 route add default gw 10.0.3.1
[2016-08-13 10:24:21] <info>  sudo ovs-docker add-port br_60d9c00b_1_2 br_1_2 bf33578c_router_efc028af_1
[2016-08-13 10:24:21] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig br_1_2 20.0.0.1/30
[2016-08-13 10:24:21] <info>  sudo ovs-docker add-port br_60d9c00b_1_2 br_1_2 bf33578c_router_64ad87cf_1
[2016-08-13 10:24:21] <info>  sudo docker exec bf33578c_router_64ad87cf_1 ifconfig br_1_2 20.0.0.2/30
[2016-08-13 10:24:22] <info>  sudo ovs-docker add-port br_60d9c00b_1_3 br_1_3 bf33578c_router_efc028af_1
[2016-08-13 10:24:22] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig br_1_3 20.0.0.5/30
[2016-08-13 10:24:22] <info>  sudo ovs-docker add-port br_60d9c00b_1_3 br_1_3 bf33578c_router_4ae6ef3c_1
[2016-08-13 10:24:22] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 ifconfig br_1_3 20.0.0.6/30
[2016-08-13 10:24:22] <info>  sudo ovs-docker add-port br_60d9c00b_0_1 br_0_1 bf33578c_router_d2461479_1
[2016-08-13 10:24:22] <info>  sudo docker exec bf33578c_router_d2461479_1 ifconfig br_0_1 20.0.0.9/30
[2016-08-13 10:24:23] <info>  sudo ovs-docker add-port br_60d9c00b_0_1 br_0_1 bf33578c_router_efc028af_1
[2016-08-13 10:24:23] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig br_0_1 20.0.0.10/30
[2016-08-13 10:24:23] <info>  sudo docker exec bf33578c_router_d2461479_1 route add -net 10.0.1.0 netmask 255.255.255.0 gw 20.0.0.10
[2016-08-13 10:24:23] <info>  sudo docker exec bf33578c_router_d2461479_1 route add -net 10.0.2.0 netmask 255.255.255.0 gw 20.0.0.10
[2016-08-13 10:24:23] <info>  sudo docker exec bf33578c_router_d2461479_1 route add -net 10.0.3.0 netmask 255.255.255.0 gw 20.0.0.10
[2016-08-13 10:24:23] <info>  sudo docker exec bf33578c_router_efc028af_1 route add -net 10.0.0.0 netmask 255.255.255.0 gw 20.0.0.9
[2016-08-13 10:24:23] <info>  sudo docker exec bf33578c_router_efc028af_1 route add -net 10.0.2.0 netmask 255.255.255.0 gw 20.0.0.2
[2016-08-13 10:24:24] <info>  sudo docker exec bf33578c_router_efc028af_1 route add -net 10.0.3.0 netmask 255.255.255.0 gw 20.0.0.6
[2016-08-13 10:24:24] <info>  sudo docker exec bf33578c_router_64ad87cf_1 route add -net 10.0.0.0 netmask 255.255.255.0 gw 20.0.0.1
[2016-08-13 10:24:24] <info>  sudo docker exec bf33578c_router_64ad87cf_1 route add -net 10.0.1.0 netmask 255.255.255.0 gw 20.0.0.1
[2016-08-13 10:24:24] <info>  sudo docker exec bf33578c_router_64ad87cf_1 route add -net 10.0.3.0 netmask 255.255.255.0 gw 20.0.0.1
[2016-08-13 10:24:24] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 route add -net 10.0.0.0 netmask 255.255.255.0 gw 20.0.0.5
[2016-08-13 10:24:24] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 route add -net 10.0.1.0 netmask 255.255.255.0 gw 20.0.0.5
[2016-08-13 10:24:25] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 route add -net 10.0.2.0 netmask 255.255.255.0 gw 20.0.0.5
[2016-08-13 10:24:25] <info>  网络配置完成!
[2016-08-13 10:24:25] <info>  添加vnc设置完成!
[2016-08-13 10:24:25] <info>  数据库存储完成!
[2016-08-13 10:24:25] <info>  拓扑创建成功!
[2016-08-13 10:28:43] <info>  virsh destroy bf33578c_d2461479_0_1
[2016-08-13 10:28:43] <info>  virsh undefine bf33578c_d2461479_0_1
[2016-08-13 10:28:43] <info>  rm -f /var/lib/libvirt/images/bf33578c_d2461479_0_1
[2016-08-13 10:28:43] <info>  删除kvm完成!
[2016-08-13 10:28:55] <info>  sudo  docker-compose -f /home/hitnslab/docker/demo/user/bf33578c/docker-compose.yaml  stop
[2016-08-13 10:28:55] <info>  sudo  docker-compose -f /home/hitnslab/docker/demo/user/bf33578c/docker-compose.yaml  rm  -f
[2016-08-13 10:28:55] <info>  删除docker完成!
[2016-08-13 10:28:55] <info>  sudo ovs-vsctl del-br br_60d9c00b_1_2
[2016-08-13 10:28:55] <info>  sudo ovs-vsctl del-br br_60d9c00b_1_3
[2016-08-13 10:28:56] <info>  sudo ovs-vsctl del-br br_60d9c00b_0_1
[2016-08-13 10:28:56] <info>  sudo ovs-vsctl del-br br_d2461479
[2016-08-13 10:28:56] <info>  sudo ovs-vsctl del-br br_efc028af
[2016-08-13 10:28:56] <info>  sudo ovs-vsctl del-br br_64ad87cf
[2016-08-13 10:28:56] <info>  sudo ovs-vsctl del-br br_4ae6ef3c
[2016-08-13 10:28:56] <info>  删除ovs网桥完成!
[2016-08-13 10:28:56] <info>  删除vnc端口完成!
[2016-08-13 10:32:03] <info>  数据初始化完成!
[2016-08-13 10:32:03] <info>  sudo ovs-vsctl add-br br_60d9c00b_1_2
[2016-08-13 10:32:03] <info>  sudo ovs-vsctl add-br br_60d9c00b_1_3
[2016-08-13 10:32:03] <info>  sudo ovs-vsctl add-br br_60d9c00b_0_1
[2016-08-13 10:32:03] <info>  sudo ovs-vsctl add-br br_d2461479
[2016-08-13 10:32:03] <info>  sudo ovs-vsctl add-br br_efc028af
[2016-08-13 10:32:03] <info>  sudo ovs-vsctl add-br br_64ad87cf
[2016-08-13 10:32:03] <info>  sudo ovs-vsctl add-br br_4ae6ef3c
[2016-08-13 10:32:03] <info>  网桥创建完成!
[2016-08-13 10:32:17] <info>  sudo  docker-compose -f /home/hitnslab/docker/demo/user/bf33578c/docker-compose.yaml  scale   router_d2461479=1  router_efc028af=1  efc028af_0=1   efc028af_1=1   efc028af_2=1   router_64ad87cf=1  64ad87cf_0=4   64ad87cf_1=1   router_4ae6ef3c=1  4ae6ef3c_0=1   4ae6ef3c_1=1   4ae6ef3c_2=3   
[2016-08-13 10:32:17] <info>  docker创建完成!
[2016-08-13 10:32:17] <info>  virsh dumpxml web-attacker-windows > /home/hitnslab/docker/demo/user/bf33578c/bf33578c_d2461479_0_1.xml
[2016-08-13 10:32:17] <info>  cp /var/lib/libvirt/images/web-attacker-windows.img /var/lib/libvirt/images/bf33578c_d2461479_0_1
[2016-08-13 10:32:18] <info>  virsh define /home/hitnslab/docker/demo/user/bf33578c/bf33578c_d2461479_0_1.xml
[2016-08-13 10:32:18] <info>  kvm创建完成!
[2016-08-13 10:32:18] <info>  sudo ovs-docker add-port br_d2461479 eth0 bf33578c_router_d2461479_1
[2016-08-13 10:32:18] <info>  sudo docker exec bf33578c_router_d2461479_1 ifconfig eth0 10.0.0.1/24
[2016-08-13 10:32:22] <info>  sudo virt-copy-in -d bf33578c_d2461479_0_1 /home/hitnslab/docker/demo/user/bf33578c/setip.bat /
[2016-08-13 10:32:22] <info>  virsh start bf33578c_d2461479_0_1
[2016-08-13 10:32:22] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_router_efc028af_1
[2016-08-13 10:32:22] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig eth0 10.0.1.1/24
[2016-08-13 10:32:23] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_efc028af_0_1
[2016-08-13 10:32:23] <info>  sudo docker exec bf33578c_efc028af_0_1 ifconfig eth0 10.0.1.2/24
[2016-08-13 10:32:23] <info>  sudo docker exec bf33578c_efc028af_0_1 route add default gw 10.0.1.1
[2016-08-13 10:32:23] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_efc028af_1_1
[2016-08-13 10:32:23] <info>  sudo docker exec bf33578c_efc028af_1_1 ifconfig eth0 10.0.1.3/24
[2016-08-13 10:32:23] <info>  sudo docker exec bf33578c_efc028af_1_1 route add default gw 10.0.1.1
[2016-08-13 10:32:24] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_efc028af_2_1
[2016-08-13 10:32:24] <info>  sudo docker exec bf33578c_efc028af_2_1 ifconfig eth0 10.0.1.4/24
[2016-08-13 10:32:24] <info>  sudo docker exec bf33578c_efc028af_2_1 route add default gw 10.0.1.1
[2016-08-13 10:32:25] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_router_64ad87cf_1
[2016-08-13 10:32:25] <info>  sudo docker exec bf33578c_router_64ad87cf_1 ifconfig eth0 10.0.2.1/24
[2016-08-13 10:32:25] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_1
[2016-08-13 10:32:25] <info>  sudo docker exec bf33578c_64ad87cf_0_1 ifconfig eth0 10.0.2.2/24
[2016-08-13 10:32:25] <info>  sudo docker exec bf33578c_64ad87cf_0_1 route add default gw 10.0.2.1
[2016-08-13 10:32:26] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_2
[2016-08-13 10:32:26] <info>  sudo docker exec bf33578c_64ad87cf_0_2 ifconfig eth0 10.0.2.3/24
[2016-08-13 10:32:26] <info>  sudo docker exec bf33578c_64ad87cf_0_2 route add default gw 10.0.2.1
[2016-08-13 10:32:26] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_3
[2016-08-13 10:32:26] <info>  sudo docker exec bf33578c_64ad87cf_0_3 ifconfig eth0 10.0.2.4/24
[2016-08-13 10:32:26] <info>  sudo docker exec bf33578c_64ad87cf_0_3 route add default gw 10.0.2.1
[2016-08-13 10:32:27] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_4
[2016-08-13 10:32:27] <info>  sudo docker exec bf33578c_64ad87cf_0_4 ifconfig eth0 10.0.2.5/24
[2016-08-13 10:32:27] <info>  sudo docker exec bf33578c_64ad87cf_0_4 route add default gw 10.0.2.1
[2016-08-13 10:32:27] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_1_1
[2016-08-13 10:32:27] <info>  sudo docker exec bf33578c_64ad87cf_1_1 ifconfig eth0 10.0.2.6/24
[2016-08-13 10:32:27] <info>  sudo docker exec bf33578c_64ad87cf_1_1 route add default gw 10.0.2.1
[2016-08-13 10:32:28] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_router_4ae6ef3c_1
[2016-08-13 10:32:28] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 ifconfig eth0 10.0.3.1/24
[2016-08-13 10:32:28] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_0_1
[2016-08-13 10:32:28] <info>  sudo docker exec bf33578c_4ae6ef3c_0_1 ifconfig eth0 10.0.3.2/24
[2016-08-13 10:32:28] <info>  sudo docker exec bf33578c_4ae6ef3c_0_1 route add default gw 10.0.3.1
[2016-08-13 10:32:29] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_1_1
[2016-08-13 10:32:29] <info>  sudo docker exec bf33578c_4ae6ef3c_1_1 ifconfig eth0 10.0.3.3/24
[2016-08-13 10:32:29] <info>  sudo docker exec bf33578c_4ae6ef3c_1_1 route add default gw 10.0.3.1
[2016-08-13 10:32:30] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_2_1
[2016-08-13 10:32:30] <info>  sudo docker exec bf33578c_4ae6ef3c_2_1 ifconfig eth0 10.0.3.4/24
[2016-08-13 10:32:30] <info>  sudo docker exec bf33578c_4ae6ef3c_2_1 route add default gw 10.0.3.1
[2016-08-13 10:32:30] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_2_2
[2016-08-13 10:32:30] <info>  sudo docker exec bf33578c_4ae6ef3c_2_2 ifconfig eth0 10.0.3.5/24
[2016-08-13 10:32:30] <info>  sudo docker exec bf33578c_4ae6ef3c_2_2 route add default gw 10.0.3.1
[2016-08-13 10:32:31] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_2_3
[2016-08-13 10:32:31] <info>  sudo docker exec bf33578c_4ae6ef3c_2_3 ifconfig eth0 10.0.3.6/24
[2016-08-13 10:32:31] <info>  sudo docker exec bf33578c_4ae6ef3c_2_3 route add default gw 10.0.3.1
[2016-08-13 10:32:31] <info>  sudo ovs-docker add-port br_60d9c00b_1_2 br_1_2 bf33578c_router_efc028af_1
[2016-08-13 10:32:31] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig br_1_2 20.0.0.1/30
[2016-08-13 10:32:32] <info>  sudo ovs-docker add-port br_60d9c00b_1_2 br_1_2 bf33578c_router_64ad87cf_1
[2016-08-13 10:32:32] <info>  sudo docker exec bf33578c_router_64ad87cf_1 ifconfig br_1_2 20.0.0.2/30
[2016-08-13 10:32:32] <info>  sudo ovs-docker add-port br_60d9c00b_1_3 br_1_3 bf33578c_router_efc028af_1
[2016-08-13 10:32:32] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig br_1_3 20.0.0.5/30
[2016-08-13 10:32:32] <info>  sudo ovs-docker add-port br_60d9c00b_1_3 br_1_3 bf33578c_router_4ae6ef3c_1
[2016-08-13 10:32:32] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 ifconfig br_1_3 20.0.0.6/30
[2016-08-13 10:32:33] <info>  sudo ovs-docker add-port br_60d9c00b_0_1 br_0_1 bf33578c_router_d2461479_1
[2016-08-13 10:32:33] <info>  sudo docker exec bf33578c_router_d2461479_1 ifconfig br_0_1 20.0.0.9/30
[2016-08-13 10:32:33] <info>  sudo ovs-docker add-port br_60d9c00b_0_1 br_0_1 bf33578c_router_efc028af_1
[2016-08-13 10:32:33] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig br_0_1 20.0.0.10/30
[2016-08-13 10:32:34] <info>  sudo docker exec bf33578c_router_d2461479_1 route add -net 10.0.1.0 netmask 255.255.255.0 gw 20.0.0.10
[2016-08-13 10:32:34] <info>  sudo docker exec bf33578c_router_d2461479_1 route add -net 10.0.2.0 netmask 255.255.255.0 gw 20.0.0.10
[2016-08-13 10:32:34] <info>  sudo docker exec bf33578c_router_d2461479_1 route add -net 10.0.3.0 netmask 255.255.255.0 gw 20.0.0.10
[2016-08-13 10:32:34] <info>  sudo docker exec bf33578c_router_efc028af_1 route add -net 10.0.0.0 netmask 255.255.255.0 gw 20.0.0.9
[2016-08-13 10:32:34] <info>  sudo docker exec bf33578c_router_efc028af_1 route add -net 10.0.2.0 netmask 255.255.255.0 gw 20.0.0.2
[2016-08-13 10:32:34] <info>  sudo docker exec bf33578c_router_efc028af_1 route add -net 10.0.3.0 netmask 255.255.255.0 gw 20.0.0.6
[2016-08-13 10:32:34] <info>  sudo docker exec bf33578c_router_64ad87cf_1 route add -net 10.0.0.0 netmask 255.255.255.0 gw 20.0.0.1
[2016-08-13 10:32:35] <info>  sudo docker exec bf33578c_router_64ad87cf_1 route add -net 10.0.1.0 netmask 255.255.255.0 gw 20.0.0.1
[2016-08-13 10:32:35] <info>  sudo docker exec bf33578c_router_64ad87cf_1 route add -net 10.0.3.0 netmask 255.255.255.0 gw 20.0.0.1
[2016-08-13 10:32:35] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 route add -net 10.0.0.0 netmask 255.255.255.0 gw 20.0.0.5
[2016-08-13 10:32:35] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 route add -net 10.0.1.0 netmask 255.255.255.0 gw 20.0.0.5
[2016-08-13 10:32:35] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 route add -net 10.0.2.0 netmask 255.255.255.0 gw 20.0.0.5
[2016-08-13 10:32:35] <info>  网络配置完成!
[2016-08-13 10:32:35] <info>  添加vnc设置完成!
[2016-08-13 10:32:35] <info>  数据库存储完成!
[2016-08-13 10:32:35] <info>  拓扑创建成功!
[2016-08-13 10:46:47] <info>  virsh destroy bf33578c_d2461479_0_1
[2016-08-13 10:46:47] <info>  virsh undefine bf33578c_d2461479_0_1
[2016-08-13 10:46:47] <info>  rm -f /var/lib/libvirt/images/bf33578c_d2461479_0_1
[2016-08-13 10:46:47] <info>  删除kvm完成!
[2016-08-13 10:47:03] <info>  sudo  docker-compose -f /home/hitnslab/docker/demo/user/bf33578c/docker-compose.yaml  stop
[2016-08-13 10:47:03] <info>  sudo  docker-compose -f /home/hitnslab/docker/demo/user/bf33578c/docker-compose.yaml  rm  -f
[2016-08-13 10:47:03] <info>  删除docker完成!
[2016-08-13 10:47:04] <info>  sudo ovs-vsctl del-br br_60d9c00b_1_2
[2016-08-13 10:47:04] <info>  sudo ovs-vsctl del-br br_60d9c00b_1_3
[2016-08-13 10:47:04] <info>  sudo ovs-vsctl del-br br_60d9c00b_0_1
[2016-08-13 10:47:04] <info>  sudo ovs-vsctl del-br br_d2461479
[2016-08-13 10:47:04] <info>  sudo ovs-vsctl del-br br_efc028af
[2016-08-13 10:47:04] <info>  sudo ovs-vsctl del-br br_64ad87cf
[2016-08-13 10:47:04] <info>  sudo ovs-vsctl del-br br_4ae6ef3c
[2016-08-13 10:47:04] <info>  删除ovs网桥完成!
[2016-08-13 10:47:04] <info>  删除vnc端口完成!
[2016-08-13 10:47:29] <info>  数据初始化完成!
[2016-08-13 10:47:29] <info>  sudo ovs-vsctl add-br br_60d9c00b_1_2
[2016-08-13 10:47:29] <info>  sudo ovs-vsctl add-br br_60d9c00b_1_3
[2016-08-13 10:47:29] <info>  sudo ovs-vsctl add-br br_60d9c00b_0_1
[2016-08-13 10:47:29] <info>  sudo ovs-vsctl add-br br_d2461479
[2016-08-13 10:47:29] <info>  sudo ovs-vsctl add-br br_efc028af
[2016-08-13 10:47:29] <info>  sudo ovs-vsctl add-br br_64ad87cf
[2016-08-13 10:47:29] <info>  sudo ovs-vsctl add-br br_4ae6ef3c
[2016-08-13 10:47:29] <info>  网桥创建完成!
[2016-08-13 10:47:30] <info>  sudo  docker-compose -f /home/hitnslab/docker/demo/user/bf33578c/docker-compose.yaml  scale   router_d2461479=1  router_efc028af=1  efc028af_0=1   efc028af_1=1   efc028af_2=1   router_64ad87cf=1  64ad87cf_0=4   64ad87cf_1=1   router_4ae6ef3c=1  4ae6ef3c_0=1   4ae6ef3c_1=1   4ae6ef3c_2=3   
[2016-08-13 10:47:30] <info>  docker创建完成!
[2016-08-13 10:47:30] <info>  virsh dumpxml web-attacker-windows > /home/hitnslab/docker/demo/user/bf33578c/bf33578c_d2461479_0_1.xml
[2016-08-13 10:47:30] <info>  cp /var/lib/libvirt/images/web-attacker-windows.img /var/lib/libvirt/images/bf33578c_d2461479_0_1
[2016-08-13 10:47:30] <info>  virsh define /home/hitnslab/docker/demo/user/bf33578c/bf33578c_d2461479_0_1.xml
[2016-08-13 10:47:30] <info>  kvm创建完成!
[2016-08-13 10:47:30] <info>  sudo ovs-docker add-port br_d2461479 eth0 bf33578c_router_d2461479_1
[2016-08-13 10:47:30] <info>  sudo docker exec bf33578c_router_d2461479_1 ifconfig eth0 10.0.0.1/24
[2016-08-13 10:47:34] <info>  sudo virt-copy-in -d bf33578c_d2461479_0_1 /home/hitnslab/docker/demo/user/bf33578c/setip.bat /
[2016-08-13 10:47:34] <info>  virsh start bf33578c_d2461479_0_1
[2016-08-13 10:47:34] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_router_efc028af_1
[2016-08-13 10:47:34] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig eth0 10.0.1.1/24
[2016-08-13 10:47:34] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_efc028af_0_1
[2016-08-13 10:47:34] <info>  sudo docker exec bf33578c_efc028af_0_1 ifconfig eth0 10.0.1.2/24
[2016-08-13 10:47:34] <info>  sudo docker exec bf33578c_efc028af_0_1 route add default gw 10.0.1.1
[2016-08-13 10:47:34] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_efc028af_1_1
[2016-08-13 10:47:34] <info>  sudo docker exec bf33578c_efc028af_1_1 ifconfig eth0 10.0.1.3/24
[2016-08-13 10:47:34] <info>  sudo docker exec bf33578c_efc028af_1_1 route add default gw 10.0.1.1
[2016-08-13 10:47:34] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_efc028af_2_1
[2016-08-13 10:47:34] <info>  sudo docker exec bf33578c_efc028af_2_1 ifconfig eth0 10.0.1.4/24
[2016-08-13 10:47:34] <info>  sudo docker exec bf33578c_efc028af_2_1 route add default gw 10.0.1.1
[2016-08-13 10:47:34] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_router_64ad87cf_1
[2016-08-13 10:47:34] <info>  sudo docker exec bf33578c_router_64ad87cf_1 ifconfig eth0 10.0.2.1/24
[2016-08-13 10:47:34] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_1
[2016-08-13 10:47:34] <info>  sudo docker exec bf33578c_64ad87cf_0_1 ifconfig eth0 10.0.2.2/24
[2016-08-13 10:47:34] <info>  sudo docker exec bf33578c_64ad87cf_0_1 route add default gw 10.0.2.1
[2016-08-13 10:47:34] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_2
[2016-08-13 10:47:34] <info>  sudo docker exec bf33578c_64ad87cf_0_2 ifconfig eth0 10.0.2.3/24
[2016-08-13 10:47:34] <info>  sudo docker exec bf33578c_64ad87cf_0_2 route add default gw 10.0.2.1
[2016-08-13 10:47:34] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_3
[2016-08-13 10:47:34] <info>  sudo docker exec bf33578c_64ad87cf_0_3 ifconfig eth0 10.0.2.4/24
[2016-08-13 10:47:34] <info>  sudo docker exec bf33578c_64ad87cf_0_3 route add default gw 10.0.2.1
[2016-08-13 10:47:34] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_4
[2016-08-13 10:47:34] <info>  sudo docker exec bf33578c_64ad87cf_0_4 ifconfig eth0 10.0.2.5/24
[2016-08-13 10:47:34] <info>  sudo docker exec bf33578c_64ad87cf_0_4 route add default gw 10.0.2.1
[2016-08-13 10:47:34] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_1_1
[2016-08-13 10:47:34] <info>  sudo docker exec bf33578c_64ad87cf_1_1 ifconfig eth0 10.0.2.6/24
[2016-08-13 10:47:34] <info>  sudo docker exec bf33578c_64ad87cf_1_1 route add default gw 10.0.2.1
[2016-08-13 10:47:34] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_router_4ae6ef3c_1
[2016-08-13 10:47:34] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 ifconfig eth0 10.0.3.1/24
[2016-08-13 10:47:35] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_0_1
[2016-08-13 10:47:35] <info>  sudo docker exec bf33578c_4ae6ef3c_0_1 ifconfig eth0 10.0.3.2/24
[2016-08-13 10:47:35] <info>  sudo docker exec bf33578c_4ae6ef3c_0_1 route add default gw 10.0.3.1
[2016-08-13 10:47:35] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_1_1
[2016-08-13 10:47:35] <info>  sudo docker exec bf33578c_4ae6ef3c_1_1 ifconfig eth0 10.0.3.3/24
[2016-08-13 10:47:35] <info>  sudo docker exec bf33578c_4ae6ef3c_1_1 route add default gw 10.0.3.1
[2016-08-13 10:47:35] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_2_1
[2016-08-13 10:47:35] <info>  sudo docker exec bf33578c_4ae6ef3c_2_1 ifconfig eth0 10.0.3.4/24
[2016-08-13 10:47:35] <info>  sudo docker exec bf33578c_4ae6ef3c_2_1 route add default gw 10.0.3.1
[2016-08-13 10:47:35] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_2_2
[2016-08-13 10:47:35] <info>  sudo docker exec bf33578c_4ae6ef3c_2_2 ifconfig eth0 10.0.3.5/24
[2016-08-13 10:47:35] <info>  sudo docker exec bf33578c_4ae6ef3c_2_2 route add default gw 10.0.3.1
[2016-08-13 10:47:35] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_2_3
[2016-08-13 10:47:35] <info>  sudo docker exec bf33578c_4ae6ef3c_2_3 ifconfig eth0 10.0.3.6/24
[2016-08-13 10:47:35] <info>  sudo docker exec bf33578c_4ae6ef3c_2_3 route add default gw 10.0.3.1
[2016-08-13 10:47:35] <info>  sudo ovs-docker add-port br_60d9c00b_1_2 br_1_2 bf33578c_router_efc028af_1
[2016-08-13 10:47:35] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig br_1_2 20.0.0.1/30
[2016-08-13 10:47:35] <info>  sudo ovs-docker add-port br_60d9c00b_1_2 br_1_2 bf33578c_router_64ad87cf_1
[2016-08-13 10:47:35] <info>  sudo docker exec bf33578c_router_64ad87cf_1 ifconfig br_1_2 20.0.0.2/30
[2016-08-13 10:47:35] <info>  sudo ovs-docker add-port br_60d9c00b_1_3 br_1_3 bf33578c_router_efc028af_1
[2016-08-13 10:47:35] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig br_1_3 20.0.0.5/30
[2016-08-13 10:47:35] <info>  sudo ovs-docker add-port br_60d9c00b_1_3 br_1_3 bf33578c_router_4ae6ef3c_1
[2016-08-13 10:47:35] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 ifconfig br_1_3 20.0.0.6/30
[2016-08-13 10:47:35] <info>  sudo ovs-docker add-port br_60d9c00b_0_1 br_0_1 bf33578c_router_d2461479_1
[2016-08-13 10:47:35] <info>  sudo docker exec bf33578c_router_d2461479_1 ifconfig br_0_1 20.0.0.9/30
[2016-08-13 10:47:35] <info>  sudo ovs-docker add-port br_60d9c00b_0_1 br_0_1 bf33578c_router_efc028af_1
[2016-08-13 10:47:35] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig br_0_1 20.0.0.10/30
[2016-08-13 10:47:35] <info>  sudo docker exec bf33578c_router_d2461479_1 route add -net 10.0.1.0 netmask 255.255.255.0 gw 20.0.0.10
[2016-08-13 10:47:35] <info>  sudo docker exec bf33578c_router_d2461479_1 route add -net 10.0.2.0 netmask 255.255.255.0 gw 20.0.0.10
[2016-08-13 10:47:35] <info>  sudo docker exec bf33578c_router_d2461479_1 route add -net 10.0.3.0 netmask 255.255.255.0 gw 20.0.0.10
[2016-08-13 10:47:35] <info>  sudo docker exec bf33578c_router_efc028af_1 route add -net 10.0.0.0 netmask 255.255.255.0 gw 20.0.0.9
[2016-08-13 10:47:35] <info>  sudo docker exec bf33578c_router_efc028af_1 route add -net 10.0.2.0 netmask 255.255.255.0 gw 20.0.0.2
[2016-08-13 10:47:35] <info>  sudo docker exec bf33578c_router_efc028af_1 route add -net 10.0.3.0 netmask 255.255.255.0 gw 20.0.0.6
[2016-08-13 10:47:35] <info>  sudo docker exec bf33578c_router_64ad87cf_1 route add -net 10.0.0.0 netmask 255.255.255.0 gw 20.0.0.1
[2016-08-13 10:47:35] <info>  sudo docker exec bf33578c_router_64ad87cf_1 route add -net 10.0.1.0 netmask 255.255.255.0 gw 20.0.0.1
[2016-08-13 10:47:35] <info>  sudo docker exec bf33578c_router_64ad87cf_1 route add -net 10.0.3.0 netmask 255.255.255.0 gw 20.0.0.1
[2016-08-13 10:47:35] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 route add -net 10.0.0.0 netmask 255.255.255.0 gw 20.0.0.5
[2016-08-13 10:47:35] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 route add -net 10.0.1.0 netmask 255.255.255.0 gw 20.0.0.5
[2016-08-13 10:47:35] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 route add -net 10.0.2.0 netmask 255.255.255.0 gw 20.0.0.5
[2016-08-13 10:47:35] <info>  网络配置完成!
[2016-08-13 10:47:35] <info>  添加vnc设置完成!
[2016-08-13 10:47:35] <info>  数据库存储完成!
[2016-08-13 10:47:35] <info>  拓扑创建成功!
[2016-08-13 11:21:11] <info>  virsh destroy bf33578c_d2461479_0_1
[2016-08-13 11:21:11] <info>  virsh undefine bf33578c_d2461479_0_1
[2016-08-13 11:21:11] <info>  rm -f /var/lib/libvirt/images/bf33578c_d2461479_0_1
[2016-08-13 11:21:11] <info>  删除kvm完成!
[2016-08-13 11:21:12] <info>  sudo  docker-compose -f /home/hitnslab/docker/demo/user/bf33578c/docker-compose.yaml  stop
[2016-08-13 11:21:12] <info>  sudo  docker-compose -f /home/hitnslab/docker/demo/user/bf33578c/docker-compose.yaml  rm  -f
[2016-08-13 11:21:12] <info>  删除docker完成!
[2016-08-13 11:21:12] <info>  sudo ovs-vsctl del-br br_60d9c00b_1_2
[2016-08-13 11:21:12] <info>  sudo ovs-vsctl del-br br_60d9c00b_1_3
[2016-08-13 11:21:12] <info>  sudo ovs-vsctl del-br br_60d9c00b_0_1
[2016-08-13 11:21:12] <info>  sudo ovs-vsctl del-br br_d2461479
[2016-08-13 11:21:12] <info>  sudo ovs-vsctl del-br br_efc028af
[2016-08-13 11:21:12] <info>  sudo ovs-vsctl del-br br_64ad87cf
[2016-08-13 11:21:12] <info>  sudo ovs-vsctl del-br br_4ae6ef3c
[2016-08-13 11:21:12] <info>  删除ovs网桥完成!
[2016-08-13 11:21:12] <info>  删除vnc端口完成!
[2016-08-13 11:21:29] <info>  数据初始化完成!
[2016-08-13 11:21:29] <info>  sudo ovs-vsctl add-br br_60d9c00b_1_2
[2016-08-13 11:21:29] <info>  sudo ovs-vsctl add-br br_60d9c00b_1_3
[2016-08-13 11:21:29] <info>  sudo ovs-vsctl add-br br_60d9c00b_0_1
[2016-08-13 11:21:30] <info>  sudo ovs-vsctl add-br br_d2461479
[2016-08-13 11:21:30] <info>  sudo ovs-vsctl add-br br_efc028af
[2016-08-13 11:21:30] <info>  sudo ovs-vsctl add-br br_64ad87cf
[2016-08-13 11:21:30] <info>  sudo ovs-vsctl add-br br_4ae6ef3c
[2016-08-13 11:21:30] <info>  网桥创建完成!
[2016-08-13 11:21:44] <info>  sudo  docker-compose -f /home/hitnslab/docker/demo/user/bf33578c/docker-compose.yaml  scale   router_d2461479=1  router_efc028af=1  efc028af_0=1   efc028af_1=1   efc028af_2=1   router_64ad87cf=1  64ad87cf_0=4   64ad87cf_1=1   router_4ae6ef3c=1  4ae6ef3c_0=1   4ae6ef3c_1=1   4ae6ef3c_2=3   
[2016-08-13 11:21:44] <info>  docker创建完成!
[2016-08-13 11:21:44] <info>  virsh dumpxml web-attacker-windows > /home/hitnslab/docker/demo/user/bf33578c/bf33578c_d2461479_0_1.xml
[2016-08-13 11:21:44] <info>  cp /var/lib/libvirt/images/web-attacker-windows.img /var/lib/libvirt/images/bf33578c_d2461479_0_1
[2016-08-13 11:21:44] <info>  virsh define /home/hitnslab/docker/demo/user/bf33578c/bf33578c_d2461479_0_1.xml
[2016-08-13 11:21:44] <info>  kvm创建完成!
[2016-08-13 11:21:45] <info>  sudo ovs-docker add-port br_d2461479 eth0 bf33578c_router_d2461479_1
[2016-08-13 11:21:45] <info>  sudo docker exec bf33578c_router_d2461479_1 ifconfig eth0 10.0.0.1/24
[2016-08-13 11:21:48] <info>  sudo virt-copy-in -d bf33578c_d2461479_0_1 /home/hitnslab/docker/demo/user/bf33578c/setip.bat /
[2016-08-13 11:21:48] <info>  virsh start bf33578c_d2461479_0_1
[2016-08-13 11:21:49] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_router_efc028af_1
[2016-08-13 11:21:49] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig eth0 10.0.1.1/24
[2016-08-13 11:21:50] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_efc028af_0_1
[2016-08-13 11:21:50] <info>  sudo docker exec bf33578c_efc028af_0_1 ifconfig eth0 10.0.1.2/24
[2016-08-13 11:21:50] <info>  sudo docker exec bf33578c_efc028af_0_1 route add default gw 10.0.1.1
[2016-08-13 11:21:50] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_efc028af_1_1
[2016-08-13 11:21:50] <info>  sudo docker exec bf33578c_efc028af_1_1 ifconfig eth0 10.0.1.3/24
[2016-08-13 11:21:50] <info>  sudo docker exec bf33578c_efc028af_1_1 route add default gw 10.0.1.1
[2016-08-13 11:21:51] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_efc028af_2_1
[2016-08-13 11:21:51] <info>  sudo docker exec bf33578c_efc028af_2_1 ifconfig eth0 10.0.1.4/24
[2016-08-13 11:21:51] <info>  sudo docker exec bf33578c_efc028af_2_1 route add default gw 10.0.1.1
[2016-08-13 11:21:51] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_router_64ad87cf_1
[2016-08-13 11:21:51] <info>  sudo docker exec bf33578c_router_64ad87cf_1 ifconfig eth0 10.0.2.1/24
[2016-08-13 11:21:52] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_1
[2016-08-13 11:21:52] <info>  sudo docker exec bf33578c_64ad87cf_0_1 ifconfig eth0 10.0.2.2/24
[2016-08-13 11:21:52] <info>  sudo docker exec bf33578c_64ad87cf_0_1 route add default gw 10.0.2.1
[2016-08-13 11:21:52] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_2
[2016-08-13 11:21:52] <info>  sudo docker exec bf33578c_64ad87cf_0_2 ifconfig eth0 10.0.2.3/24
[2016-08-13 11:21:52] <info>  sudo docker exec bf33578c_64ad87cf_0_2 route add default gw 10.0.2.1
[2016-08-13 11:21:53] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_3
[2016-08-13 11:21:53] <info>  sudo docker exec bf33578c_64ad87cf_0_3 ifconfig eth0 10.0.2.4/24
[2016-08-13 11:21:53] <info>  sudo docker exec bf33578c_64ad87cf_0_3 route add default gw 10.0.2.1
[2016-08-13 11:21:54] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_4
[2016-08-13 11:21:54] <info>  sudo docker exec bf33578c_64ad87cf_0_4 ifconfig eth0 10.0.2.5/24
[2016-08-13 11:21:54] <info>  sudo docker exec bf33578c_64ad87cf_0_4 route add default gw 10.0.2.1
[2016-08-13 11:21:54] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_1_1
[2016-08-13 11:21:54] <info>  sudo docker exec bf33578c_64ad87cf_1_1 ifconfig eth0 10.0.2.6/24
[2016-08-13 11:21:54] <info>  sudo docker exec bf33578c_64ad87cf_1_1 route add default gw 10.0.2.1
[2016-08-13 11:21:54] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_router_4ae6ef3c_1
[2016-08-13 11:21:54] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 ifconfig eth0 10.0.3.1/24
[2016-08-13 11:21:55] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_0_1
[2016-08-13 11:21:55] <info>  sudo docker exec bf33578c_4ae6ef3c_0_1 ifconfig eth0 10.0.3.2/24
[2016-08-13 11:21:55] <info>  sudo docker exec bf33578c_4ae6ef3c_0_1 route add default gw 10.0.3.1
[2016-08-13 11:21:56] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_1_1
[2016-08-13 11:21:56] <info>  sudo docker exec bf33578c_4ae6ef3c_1_1 ifconfig eth0 10.0.3.3/24
[2016-08-13 11:21:56] <info>  sudo docker exec bf33578c_4ae6ef3c_1_1 route add default gw 10.0.3.1
[2016-08-13 11:21:56] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_2_1
[2016-08-13 11:21:56] <info>  sudo docker exec bf33578c_4ae6ef3c_2_1 ifconfig eth0 10.0.3.4/24
[2016-08-13 11:21:56] <info>  sudo docker exec bf33578c_4ae6ef3c_2_1 route add default gw 10.0.3.1
[2016-08-13 11:21:57] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_2_2
[2016-08-13 11:21:57] <info>  sudo docker exec bf33578c_4ae6ef3c_2_2 ifconfig eth0 10.0.3.5/24
[2016-08-13 11:21:57] <info>  sudo docker exec bf33578c_4ae6ef3c_2_2 route add default gw 10.0.3.1
[2016-08-13 11:21:57] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_2_3
[2016-08-13 11:21:57] <info>  sudo docker exec bf33578c_4ae6ef3c_2_3 ifconfig eth0 10.0.3.6/24
[2016-08-13 11:21:57] <info>  sudo docker exec bf33578c_4ae6ef3c_2_3 route add default gw 10.0.3.1
[2016-08-13 11:21:58] <info>  sudo ovs-docker add-port br_60d9c00b_1_2 br_1_2 bf33578c_router_efc028af_1
[2016-08-13 11:21:58] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig br_1_2 20.0.0.1/30
[2016-08-13 11:21:58] <info>  sudo ovs-docker add-port br_60d9c00b_1_2 br_1_2 bf33578c_router_64ad87cf_1
[2016-08-13 11:21:58] <info>  sudo docker exec bf33578c_router_64ad87cf_1 ifconfig br_1_2 20.0.0.2/30
[2016-08-13 11:21:58] <info>  sudo ovs-docker add-port br_60d9c00b_1_3 br_1_3 bf33578c_router_efc028af_1
[2016-08-13 11:21:58] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig br_1_3 20.0.0.5/30
[2016-08-13 11:21:59] <info>  sudo ovs-docker add-port br_60d9c00b_1_3 br_1_3 bf33578c_router_4ae6ef3c_1
[2016-08-13 11:21:59] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 ifconfig br_1_3 20.0.0.6/30
[2016-08-13 11:21:59] <info>  sudo ovs-docker add-port br_60d9c00b_0_1 br_0_1 bf33578c_router_d2461479_1
[2016-08-13 11:21:59] <info>  sudo docker exec bf33578c_router_d2461479_1 ifconfig br_0_1 20.0.0.9/30
[2016-08-13 11:22:00] <info>  sudo ovs-docker add-port br_60d9c00b_0_1 br_0_1 bf33578c_router_efc028af_1
[2016-08-13 11:22:00] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig br_0_1 20.0.0.10/30
[2016-08-13 11:22:00] <info>  sudo docker exec bf33578c_router_d2461479_1 route add -net 10.0.1.0 netmask 255.255.255.0 gw 20.0.0.10
[2016-08-13 11:22:00] <info>  sudo docker exec bf33578c_router_d2461479_1 route add -net 10.0.2.0 netmask 255.255.255.0 gw 20.0.0.10
[2016-08-13 11:22:00] <info>  sudo docker exec bf33578c_router_d2461479_1 route add -net 10.0.3.0 netmask 255.255.255.0 gw 20.0.0.10
[2016-08-13 11:22:00] <info>  sudo docker exec bf33578c_router_efc028af_1 route add -net 10.0.0.0 netmask 255.255.255.0 gw 20.0.0.9
[2016-08-13 11:22:01] <info>  sudo docker exec bf33578c_router_efc028af_1 route add -net 10.0.2.0 netmask 255.255.255.0 gw 20.0.0.2
[2016-08-13 11:22:01] <info>  sudo docker exec bf33578c_router_efc028af_1 route add -net 10.0.3.0 netmask 255.255.255.0 gw 20.0.0.6
[2016-08-13 11:22:01] <info>  sudo docker exec bf33578c_router_64ad87cf_1 route add -net 10.0.0.0 netmask 255.255.255.0 gw 20.0.0.1
[2016-08-13 11:22:01] <info>  sudo docker exec bf33578c_router_64ad87cf_1 route add -net 10.0.1.0 netmask 255.255.255.0 gw 20.0.0.1
[2016-08-13 11:22:01] <info>  sudo docker exec bf33578c_router_64ad87cf_1 route add -net 10.0.3.0 netmask 255.255.255.0 gw 20.0.0.1
[2016-08-13 11:22:01] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 route add -net 10.0.0.0 netmask 255.255.255.0 gw 20.0.0.5
[2016-08-13 11:22:01] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 route add -net 10.0.1.0 netmask 255.255.255.0 gw 20.0.0.5
[2016-08-13 11:22:02] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 route add -net 10.0.2.0 netmask 255.255.255.0 gw 20.0.0.5
[2016-08-13 11:22:02] <info>  网络配置完成!
[2016-08-13 11:22:02] <info>  添加vnc设置完成!
[2016-08-13 11:22:02] <info>  数据库存储完成!
[2016-08-13 11:22:02] <info>  拓扑创建成功!
[2016-08-13 11:24:43] <info>  virsh destroy bf33578c_d2461479_0_1
[2016-08-13 11:24:43] <info>  virsh undefine bf33578c_d2461479_0_1
[2016-08-13 11:24:43] <info>  rm -f /var/lib/libvirt/images/bf33578c_d2461479_0_1
[2016-08-13 11:24:43] <info>  删除kvm完成!
[2016-08-13 11:24:59] <info>  sudo  docker-compose -f /home/hitnslab/docker/demo/user/bf33578c/docker-compose.yaml  stop
[2016-08-13 11:24:59] <info>  sudo  docker-compose -f /home/hitnslab/docker/demo/user/bf33578c/docker-compose.yaml  rm  -f
[2016-08-13 11:24:59] <info>  删除docker完成!
[2016-08-13 11:24:59] <info>  sudo ovs-vsctl del-br br_60d9c00b_1_2
[2016-08-13 11:25:00] <info>  sudo ovs-vsctl del-br br_60d9c00b_1_3
[2016-08-13 11:25:00] <info>  sudo ovs-vsctl del-br br_60d9c00b_0_1
[2016-08-13 11:25:00] <info>  sudo ovs-vsctl del-br br_d2461479
[2016-08-13 11:25:00] <info>  sudo ovs-vsctl del-br br_efc028af
[2016-08-13 11:25:00] <info>  sudo ovs-vsctl del-br br_64ad87cf
[2016-08-13 11:25:00] <info>  sudo ovs-vsctl del-br br_4ae6ef3c
[2016-08-13 11:25:00] <info>  删除ovs网桥完成!
[2016-08-13 11:25:00] <info>  删除vnc端口完成!
[2016-08-13 11:25:40] <info>  数据初始化完成!
[2016-08-13 11:25:40] <info>  sudo ovs-vsctl add-br br_60d9c00b_1_2
[2016-08-13 11:25:40] <info>  sudo ovs-vsctl add-br br_60d9c00b_1_3
[2016-08-13 11:25:40] <info>  sudo ovs-vsctl add-br br_60d9c00b_0_1
[2016-08-13 11:25:40] <info>  sudo ovs-vsctl add-br br_d2461479
[2016-08-13 11:25:40] <info>  sudo ovs-vsctl add-br br_efc028af
[2016-08-13 11:25:40] <info>  sudo ovs-vsctl add-br br_64ad87cf
[2016-08-13 11:25:40] <info>  sudo ovs-vsctl add-br br_4ae6ef3c
[2016-08-13 11:25:40] <info>  网桥创建完成!
[2016-08-13 11:25:40] <info>  sudo  docker-compose -f /home/hitnslab/docker/demo/user/bf33578c/docker-compose.yaml  scale   router_d2461479=1  router_efc028af=1  efc028af_0=1   efc028af_1=1   efc028af_2=1   router_64ad87cf=1  64ad87cf_0=4   64ad87cf_1=1   router_4ae6ef3c=1  4ae6ef3c_0=1   4ae6ef3c_1=1   4ae6ef3c_2=3   
[2016-08-13 11:25:40] <info>  docker创建完成!
[2016-08-13 11:25:40] <info>  virsh dumpxml web-attacker-windows > /home/hitnslab/docker/demo/user/bf33578c/bf33578c_d2461479_0_1.xml
[2016-08-13 11:25:40] <info>  cp /var/lib/libvirt/images/web-attacker-windows.img /var/lib/libvirt/images/bf33578c_d2461479_0_1
[2016-08-13 11:25:40] <info>  virsh define /home/hitnslab/docker/demo/user/bf33578c/bf33578c_d2461479_0_1.xml
[2016-08-13 11:25:40] <info>  kvm创建完成!
[2016-08-13 11:25:40] <info>  sudo ovs-docker add-port br_d2461479 eth0 bf33578c_router_d2461479_1
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_router_d2461479_1 ifconfig eth0 10.0.0.1/24
[2016-08-13 11:25:40] <info>  sudo virt-copy-in -d bf33578c_d2461479_0_1 /home/hitnslab/docker/demo/user/bf33578c/setip.bat /
[2016-08-13 11:25:40] <info>  virsh start bf33578c_d2461479_0_1
[2016-08-13 11:25:40] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_router_efc028af_1
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig eth0 10.0.1.1/24
[2016-08-13 11:25:40] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_efc028af_0_1
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_efc028af_0_1 ifconfig eth0 10.0.1.2/24
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_efc028af_0_1 route add default gw 10.0.1.1
[2016-08-13 11:25:40] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_efc028af_1_1
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_efc028af_1_1 ifconfig eth0 10.0.1.3/24
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_efc028af_1_1 route add default gw 10.0.1.1
[2016-08-13 11:25:40] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_efc028af_2_1
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_efc028af_2_1 ifconfig eth0 10.0.1.4/24
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_efc028af_2_1 route add default gw 10.0.1.1
[2016-08-13 11:25:40] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_router_64ad87cf_1
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_router_64ad87cf_1 ifconfig eth0 10.0.2.1/24
[2016-08-13 11:25:40] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_1
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_64ad87cf_0_1 ifconfig eth0 10.0.2.2/24
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_64ad87cf_0_1 route add default gw 10.0.2.1
[2016-08-13 11:25:40] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_2
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_64ad87cf_0_2 ifconfig eth0 10.0.2.3/24
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_64ad87cf_0_2 route add default gw 10.0.2.1
[2016-08-13 11:25:40] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_3
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_64ad87cf_0_3 ifconfig eth0 10.0.2.4/24
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_64ad87cf_0_3 route add default gw 10.0.2.1
[2016-08-13 11:25:40] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_4
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_64ad87cf_0_4 ifconfig eth0 10.0.2.5/24
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_64ad87cf_0_4 route add default gw 10.0.2.1
[2016-08-13 11:25:40] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_1_1
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_64ad87cf_1_1 ifconfig eth0 10.0.2.6/24
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_64ad87cf_1_1 route add default gw 10.0.2.1
[2016-08-13 11:25:40] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_router_4ae6ef3c_1
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 ifconfig eth0 10.0.3.1/24
[2016-08-13 11:25:40] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_0_1
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_4ae6ef3c_0_1 ifconfig eth0 10.0.3.2/24
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_4ae6ef3c_0_1 route add default gw 10.0.3.1
[2016-08-13 11:25:40] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_1_1
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_4ae6ef3c_1_1 ifconfig eth0 10.0.3.3/24
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_4ae6ef3c_1_1 route add default gw 10.0.3.1
[2016-08-13 11:25:40] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_2_1
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_4ae6ef3c_2_1 ifconfig eth0 10.0.3.4/24
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_4ae6ef3c_2_1 route add default gw 10.0.3.1
[2016-08-13 11:25:40] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_2_2
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_4ae6ef3c_2_2 ifconfig eth0 10.0.3.5/24
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_4ae6ef3c_2_2 route add default gw 10.0.3.1
[2016-08-13 11:25:40] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_2_3
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_4ae6ef3c_2_3 ifconfig eth0 10.0.3.6/24
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_4ae6ef3c_2_3 route add default gw 10.0.3.1
[2016-08-13 11:25:40] <info>  sudo ovs-docker add-port br_60d9c00b_1_2 br_1_2 bf33578c_router_efc028af_1
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig br_1_2 20.0.0.1/30
[2016-08-13 11:25:40] <info>  sudo ovs-docker add-port br_60d9c00b_1_2 br_1_2 bf33578c_router_64ad87cf_1
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_router_64ad87cf_1 ifconfig br_1_2 20.0.0.2/30
[2016-08-13 11:25:40] <info>  sudo ovs-docker add-port br_60d9c00b_1_3 br_1_3 bf33578c_router_efc028af_1
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig br_1_3 20.0.0.5/30
[2016-08-13 11:25:40] <info>  sudo ovs-docker add-port br_60d9c00b_1_3 br_1_3 bf33578c_router_4ae6ef3c_1
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 ifconfig br_1_3 20.0.0.6/30
[2016-08-13 11:25:40] <info>  sudo ovs-docker add-port br_60d9c00b_0_1 br_0_1 bf33578c_router_d2461479_1
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_router_d2461479_1 ifconfig br_0_1 20.0.0.9/30
[2016-08-13 11:25:40] <info>  sudo ovs-docker add-port br_60d9c00b_0_1 br_0_1 bf33578c_router_efc028af_1
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig br_0_1 20.0.0.10/30
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_router_d2461479_1 route add -net 10.0.1.0 netmask 255.255.255.0 gw 20.0.0.10
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_router_d2461479_1 route add -net 10.0.2.0 netmask 255.255.255.0 gw 20.0.0.10
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_router_d2461479_1 route add -net 10.0.3.0 netmask 255.255.255.0 gw 20.0.0.10
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_router_efc028af_1 route add -net 10.0.0.0 netmask 255.255.255.0 gw 20.0.0.9
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_router_efc028af_1 route add -net 10.0.2.0 netmask 255.255.255.0 gw 20.0.0.2
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_router_efc028af_1 route add -net 10.0.3.0 netmask 255.255.255.0 gw 20.0.0.6
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_router_64ad87cf_1 route add -net 10.0.0.0 netmask 255.255.255.0 gw 20.0.0.1
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_router_64ad87cf_1 route add -net 10.0.1.0 netmask 255.255.255.0 gw 20.0.0.1
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_router_64ad87cf_1 route add -net 10.0.3.0 netmask 255.255.255.0 gw 20.0.0.1
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 route add -net 10.0.0.0 netmask 255.255.255.0 gw 20.0.0.5
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 route add -net 10.0.1.0 netmask 255.255.255.0 gw 20.0.0.5
[2016-08-13 11:25:40] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 route add -net 10.0.2.0 netmask 255.255.255.0 gw 20.0.0.5
[2016-08-13 11:25:40] <info>  网络配置完成!
[2016-08-13 11:25:40] <info>  添加vnc设置完成!
[2016-08-13 11:25:40] <info>  数据库存储完成!
[2016-08-13 11:25:40] <info>  拓扑创建成功!
[2016-08-13 11:27:03] <info>  数据初始化完成!
[2016-08-13 11:27:03] <info>  sudo ovs-vsctl add-br br_60d9c00b_1_2
[2016-08-13 11:27:03] <info>  sudo ovs-vsctl add-br br_60d9c00b_1_3
[2016-08-13 11:27:03] <info>  sudo ovs-vsctl add-br br_60d9c00b_0_1
[2016-08-13 11:27:03] <info>  sudo ovs-vsctl add-br br_d2461479
[2016-08-13 11:27:03] <info>  sudo ovs-vsctl add-br br_efc028af
[2016-08-13 11:27:03] <info>  sudo ovs-vsctl add-br br_64ad87cf
[2016-08-13 11:27:03] <info>  sudo ovs-vsctl add-br br_4ae6ef3c
[2016-08-13 11:27:03] <info>  网桥创建完成!
[2016-08-13 11:27:17] <info>  sudo  docker-compose -f /home/hitnslab/docker/demo/user/bf33578c/docker-compose.yaml  scale   router_d2461479=1  router_efc028af=1  efc028af_0=1   efc028af_1=1   efc028af_2=1   router_64ad87cf=1  64ad87cf_0=4   64ad87cf_1=1   router_4ae6ef3c=1  4ae6ef3c_0=1   4ae6ef3c_1=1   4ae6ef3c_2=3   
[2016-08-13 11:27:17] <info>  docker创建完成!
[2016-08-13 11:27:17] <info>  virsh dumpxml web-attacker-windows > /home/hitnslab/docker/demo/user/bf33578c/bf33578c_d2461479_0_1.xml
[2016-08-13 11:27:17] <info>  cp /var/lib/libvirt/images/web-attacker-windows.img /var/lib/libvirt/images/bf33578c_d2461479_0_1
[2016-08-13 11:27:17] <info>  virsh define /home/hitnslab/docker/demo/user/bf33578c/bf33578c_d2461479_0_1.xml
[2016-08-13 11:27:17] <info>  kvm创建完成!
[2016-08-13 11:27:18] <info>  sudo ovs-docker add-port br_d2461479 eth0 bf33578c_router_d2461479_1
[2016-08-13 11:27:18] <info>  sudo docker exec bf33578c_router_d2461479_1 ifconfig eth0 10.0.0.1/24
[2016-08-13 11:27:21] <info>  sudo virt-copy-in -d bf33578c_d2461479_0_1 /home/hitnslab/docker/demo/user/bf33578c/setip.bat /
[2016-08-13 11:27:21] <info>  virsh start bf33578c_d2461479_0_1
[2016-08-13 11:27:22] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_router_efc028af_1
[2016-08-13 11:27:22] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig eth0 10.0.1.1/24
[2016-08-13 11:27:22] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_efc028af_0_1
[2016-08-13 11:27:22] <info>  sudo docker exec bf33578c_efc028af_0_1 ifconfig eth0 10.0.1.2/24
[2016-08-13 11:27:22] <info>  sudo docker exec bf33578c_efc028af_0_1 route add default gw 10.0.1.1
[2016-08-13 11:27:23] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_efc028af_1_1
[2016-08-13 11:27:23] <info>  sudo docker exec bf33578c_efc028af_1_1 ifconfig eth0 10.0.1.3/24
[2016-08-13 11:27:23] <info>  sudo docker exec bf33578c_efc028af_1_1 route add default gw 10.0.1.1
[2016-08-13 11:27:24] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_efc028af_2_1
[2016-08-13 11:27:24] <info>  sudo docker exec bf33578c_efc028af_2_1 ifconfig eth0 10.0.1.4/24
[2016-08-13 11:27:24] <info>  sudo docker exec bf33578c_efc028af_2_1 route add default gw 10.0.1.1
[2016-08-13 11:27:24] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_router_64ad87cf_1
[2016-08-13 11:27:24] <info>  sudo docker exec bf33578c_router_64ad87cf_1 ifconfig eth0 10.0.2.1/24
[2016-08-13 11:27:25] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_1
[2016-08-13 11:27:25] <info>  sudo docker exec bf33578c_64ad87cf_0_1 ifconfig eth0 10.0.2.2/24
[2016-08-13 11:27:25] <info>  sudo docker exec bf33578c_64ad87cf_0_1 route add default gw 10.0.2.1
[2016-08-13 11:27:25] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_2
[2016-08-13 11:27:25] <info>  sudo docker exec bf33578c_64ad87cf_0_2 ifconfig eth0 10.0.2.3/24
[2016-08-13 11:27:25] <info>  sudo docker exec bf33578c_64ad87cf_0_2 route add default gw 10.0.2.1
[2016-08-13 11:27:26] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_3
[2016-08-13 11:27:26] <info>  sudo docker exec bf33578c_64ad87cf_0_3 ifconfig eth0 10.0.2.4/24
[2016-08-13 11:27:26] <info>  sudo docker exec bf33578c_64ad87cf_0_3 route add default gw 10.0.2.1
[2016-08-13 11:27:26] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_4
[2016-08-13 11:27:26] <info>  sudo docker exec bf33578c_64ad87cf_0_4 ifconfig eth0 10.0.2.5/24
[2016-08-13 11:27:26] <info>  sudo docker exec bf33578c_64ad87cf_0_4 route add default gw 10.0.2.1
[2016-08-13 11:27:27] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_1_1
[2016-08-13 11:27:27] <info>  sudo docker exec bf33578c_64ad87cf_1_1 ifconfig eth0 10.0.2.6/24
[2016-08-13 11:27:27] <info>  sudo docker exec bf33578c_64ad87cf_1_1 route add default gw 10.0.2.1
[2016-08-13 11:27:27] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_router_4ae6ef3c_1
[2016-08-13 11:27:27] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 ifconfig eth0 10.0.3.1/24
[2016-08-13 11:27:28] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_0_1
[2016-08-13 11:27:28] <info>  sudo docker exec bf33578c_4ae6ef3c_0_1 ifconfig eth0 10.0.3.2/24
[2016-08-13 11:27:28] <info>  sudo docker exec bf33578c_4ae6ef3c_0_1 route add default gw 10.0.3.1
[2016-08-13 11:27:28] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_1_1
[2016-08-13 11:27:28] <info>  sudo docker exec bf33578c_4ae6ef3c_1_1 ifconfig eth0 10.0.3.3/24
[2016-08-13 11:27:28] <info>  sudo docker exec bf33578c_4ae6ef3c_1_1 route add default gw 10.0.3.1
[2016-08-13 11:27:29] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_2_1
[2016-08-13 11:27:29] <info>  sudo docker exec bf33578c_4ae6ef3c_2_1 ifconfig eth0 10.0.3.4/24
[2016-08-13 11:27:29] <info>  sudo docker exec bf33578c_4ae6ef3c_2_1 route add default gw 10.0.3.1
[2016-08-13 11:27:29] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_2_2
[2016-08-13 11:27:29] <info>  sudo docker exec bf33578c_4ae6ef3c_2_2 ifconfig eth0 10.0.3.5/24
[2016-08-13 11:27:29] <info>  sudo docker exec bf33578c_4ae6ef3c_2_2 route add default gw 10.0.3.1
[2016-08-13 11:27:30] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_2_3
[2016-08-13 11:27:30] <info>  sudo docker exec bf33578c_4ae6ef3c_2_3 ifconfig eth0 10.0.3.6/24
[2016-08-13 11:27:30] <info>  sudo docker exec bf33578c_4ae6ef3c_2_3 route add default gw 10.0.3.1
[2016-08-13 11:27:30] <info>  sudo ovs-docker add-port br_60d9c00b_1_2 br_1_2 bf33578c_router_efc028af_1
[2016-08-13 11:27:30] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig br_1_2 20.0.0.1/30
[2016-08-13 11:27:31] <info>  sudo ovs-docker add-port br_60d9c00b_1_2 br_1_2 bf33578c_router_64ad87cf_1
[2016-08-13 11:27:31] <info>  sudo docker exec bf33578c_router_64ad87cf_1 ifconfig br_1_2 20.0.0.2/30
[2016-08-13 11:27:31] <info>  sudo ovs-docker add-port br_60d9c00b_1_3 br_1_3 bf33578c_router_efc028af_1
[2016-08-13 11:27:31] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig br_1_3 20.0.0.5/30
[2016-08-13 11:27:32] <info>  sudo ovs-docker add-port br_60d9c00b_1_3 br_1_3 bf33578c_router_4ae6ef3c_1
[2016-08-13 11:27:32] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 ifconfig br_1_3 20.0.0.6/30
[2016-08-13 11:27:32] <info>  sudo ovs-docker add-port br_60d9c00b_0_1 br_0_1 bf33578c_router_d2461479_1
[2016-08-13 11:27:32] <info>  sudo docker exec bf33578c_router_d2461479_1 ifconfig br_0_1 20.0.0.9/30
[2016-08-13 11:27:32] <info>  sudo ovs-docker add-port br_60d9c00b_0_1 br_0_1 bf33578c_router_efc028af_1
[2016-08-13 11:27:32] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig br_0_1 20.0.0.10/30
[2016-08-13 11:27:33] <info>  sudo docker exec bf33578c_router_d2461479_1 route add -net 10.0.1.0 netmask 255.255.255.0 gw 20.0.0.10
[2016-08-13 11:27:33] <info>  sudo docker exec bf33578c_router_d2461479_1 route add -net 10.0.2.0 netmask 255.255.255.0 gw 20.0.0.10
[2016-08-13 11:27:33] <info>  sudo docker exec bf33578c_router_d2461479_1 route add -net 10.0.3.0 netmask 255.255.255.0 gw 20.0.0.10
[2016-08-13 11:27:33] <info>  sudo docker exec bf33578c_router_efc028af_1 route add -net 10.0.0.0 netmask 255.255.255.0 gw 20.0.0.9
[2016-08-13 11:27:33] <info>  sudo docker exec bf33578c_router_efc028af_1 route add -net 10.0.2.0 netmask 255.255.255.0 gw 20.0.0.2
[2016-08-13 11:27:33] <info>  sudo docker exec bf33578c_router_efc028af_1 route add -net 10.0.3.0 netmask 255.255.255.0 gw 20.0.0.6
[2016-08-13 11:27:34] <info>  sudo docker exec bf33578c_router_64ad87cf_1 route add -net 10.0.0.0 netmask 255.255.255.0 gw 20.0.0.1
[2016-08-13 11:27:34] <info>  sudo docker exec bf33578c_router_64ad87cf_1 route add -net 10.0.1.0 netmask 255.255.255.0 gw 20.0.0.1
[2016-08-13 11:27:34] <info>  sudo docker exec bf33578c_router_64ad87cf_1 route add -net 10.0.3.0 netmask 255.255.255.0 gw 20.0.0.1
[2016-08-13 11:27:34] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 route add -net 10.0.0.0 netmask 255.255.255.0 gw 20.0.0.5
[2016-08-13 11:27:34] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 route add -net 10.0.1.0 netmask 255.255.255.0 gw 20.0.0.5
[2016-08-13 11:27:34] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 route add -net 10.0.2.0 netmask 255.255.255.0 gw 20.0.0.5
[2016-08-13 11:27:34] <info>  网络配置完成!
[2016-08-13 11:27:34] <info>  添加vnc设置完成!
[2016-08-13 11:27:34] <info>  数据库存储完成!
[2016-08-13 11:27:34] <info>  拓扑创建成功!
[2016-08-13 11:29:58] <info>  virsh destroy bf33578c_d2461479_0_1
[2016-08-13 11:29:58] <info>  virsh undefine bf33578c_d2461479_0_1
[2016-08-13 11:29:58] <info>  rm -f /var/lib/libvirt/images/bf33578c_d2461479_0_1
[2016-08-13 11:29:58] <info>  删除kvm完成!
[2016-08-13 11:29:58] <info>  sudo  docker-compose -f /home/hitnslab/docker/demo/user/bf33578c/docker-compose.yaml  stop
[2016-08-13 11:29:58] <info>  sudo  docker-compose -f /home/hitnslab/docker/demo/user/bf33578c/docker-compose.yaml  rm  -f
[2016-08-13 11:29:58] <info>  删除docker完成!
[2016-08-13 11:29:58] <info>  sudo ovs-vsctl del-br br_60d9c00b_1_2
[2016-08-13 11:29:58] <info>  sudo ovs-vsctl del-br br_60d9c00b_1_3
[2016-08-13 11:29:58] <info>  sudo ovs-vsctl del-br br_60d9c00b_0_1
[2016-08-13 11:29:58] <info>  sudo ovs-vsctl del-br br_d2461479
[2016-08-13 11:29:58] <info>  sudo ovs-vsctl del-br br_efc028af
[2016-08-13 11:29:58] <info>  sudo ovs-vsctl del-br br_64ad87cf
[2016-08-13 11:29:58] <info>  sudo ovs-vsctl del-br br_4ae6ef3c
[2016-08-13 11:29:58] <info>  删除ovs网桥完成!
[2016-08-13 11:29:58] <info>  删除vnc端口完成!
[2016-08-13 11:30:12] <info>  virsh destroy bf33578c_d2461479_0_1
[2016-08-13 11:30:12] <info>  virsh undefine bf33578c_d2461479_0_1
[2016-08-13 11:30:12] <info>  rm -f /var/lib/libvirt/images/bf33578c_d2461479_0_1
[2016-08-13 11:30:12] <info>  删除kvm完成!
[2016-08-13 11:30:29] <info>  sudo  docker-compose -f /home/hitnslab/docker/demo/user/bf33578c/docker-compose.yaml  stop
[2016-08-13 11:30:29] <info>  sudo  docker-compose -f /home/hitnslab/docker/demo/user/bf33578c/docker-compose.yaml  rm  -f
[2016-08-13 11:30:29] <info>  删除docker完成!
[2016-08-13 11:30:29] <info>  sudo ovs-vsctl del-br br_60d9c00b_1_2
[2016-08-13 11:30:29] <info>  sudo ovs-vsctl del-br br_60d9c00b_1_3
[2016-08-13 11:30:29] <info>  sudo ovs-vsctl del-br br_60d9c00b_0_1
[2016-08-13 11:30:30] <info>  sudo ovs-vsctl del-br br_d2461479
[2016-08-13 11:30:30] <info>  sudo ovs-vsctl del-br br_efc028af
[2016-08-13 11:30:30] <info>  sudo ovs-vsctl del-br br_64ad87cf
[2016-08-13 11:30:30] <info>  sudo ovs-vsctl del-br br_4ae6ef3c
[2016-08-13 11:30:30] <info>  删除ovs网桥完成!
[2016-08-13 11:30:30] <info>  删除vnc端口完成!
[2016-08-13 11:30:42] <info>  数据初始化完成!
[2016-08-13 11:30:42] <info>  sudo ovs-vsctl add-br br_60d9c00b_1_2
[2016-08-13 11:30:42] <info>  sudo ovs-vsctl add-br br_60d9c00b_1_3
[2016-08-13 11:30:42] <info>  sudo ovs-vsctl add-br br_60d9c00b_0_1
[2016-08-13 11:30:42] <info>  sudo ovs-vsctl add-br br_d2461479
[2016-08-13 11:30:42] <info>  sudo ovs-vsctl add-br br_efc028af
[2016-08-13 11:30:42] <info>  sudo ovs-vsctl add-br br_64ad87cf
[2016-08-13 11:30:42] <info>  sudo ovs-vsctl add-br br_4ae6ef3c
[2016-08-13 11:30:42] <info>  网桥创建完成!
[2016-08-13 11:30:58] <info>  sudo  docker-compose -f /home/hitnslab/docker/demo/user/bf33578c/docker-compose.yaml  scale   router_d2461479=1  router_efc028af=1  efc028af_0=1   efc028af_1=1   efc028af_2=1   router_64ad87cf=1  64ad87cf_0=4   64ad87cf_1=1   router_4ae6ef3c=1  4ae6ef3c_0=1   4ae6ef3c_1=1   4ae6ef3c_2=3   
[2016-08-13 11:30:58] <info>  docker创建完成!
[2016-08-13 11:30:58] <info>  virsh dumpxml web-attacker-windows > /home/hitnslab/docker/demo/user/bf33578c/bf33578c_d2461479_0_1.xml
[2016-08-13 11:30:58] <info>  cp /var/lib/libvirt/images/web-attacker-windows.img /var/lib/libvirt/images/bf33578c_d2461479_0_1
[2016-08-13 11:30:58] <info>  virsh define /home/hitnslab/docker/demo/user/bf33578c/bf33578c_d2461479_0_1.xml
[2016-08-13 11:30:58] <info>  kvm创建完成!
[2016-08-13 11:30:58] <info>  sudo ovs-docker add-port br_d2461479 eth0 bf33578c_router_d2461479_1
[2016-08-13 11:30:58] <info>  sudo docker exec bf33578c_router_d2461479_1 ifconfig eth0 10.0.0.1/24
[2016-08-13 11:31:02] <info>  sudo virt-copy-in -d bf33578c_d2461479_0_1 /home/hitnslab/docker/demo/user/bf33578c/setip.bat /
[2016-08-13 11:31:02] <info>  virsh start bf33578c_d2461479_0_1
[2016-08-13 11:31:02] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_router_efc028af_1
[2016-08-13 11:31:02] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig eth0 10.0.1.1/24
[2016-08-13 11:31:03] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_efc028af_0_1
[2016-08-13 11:31:03] <info>  sudo docker exec bf33578c_efc028af_0_1 ifconfig eth0 10.0.1.2/24
[2016-08-13 11:31:03] <info>  sudo docker exec bf33578c_efc028af_0_1 route add default gw 10.0.1.1
[2016-08-13 11:31:04] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_efc028af_1_1
[2016-08-13 11:31:04] <info>  sudo docker exec bf33578c_efc028af_1_1 ifconfig eth0 10.0.1.3/24
[2016-08-13 11:31:04] <info>  sudo docker exec bf33578c_efc028af_1_1 route add default gw 10.0.1.1
[2016-08-13 11:31:04] <info>  sudo ovs-docker add-port br_efc028af eth0 bf33578c_efc028af_2_1
[2016-08-13 11:31:04] <info>  sudo docker exec bf33578c_efc028af_2_1 ifconfig eth0 10.0.1.4/24
[2016-08-13 11:31:04] <info>  sudo docker exec bf33578c_efc028af_2_1 route add default gw 10.0.1.1
[2016-08-13 11:31:05] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_router_64ad87cf_1
[2016-08-13 11:31:05] <info>  sudo docker exec bf33578c_router_64ad87cf_1 ifconfig eth0 10.0.2.1/24
[2016-08-13 11:31:05] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_1
[2016-08-13 11:31:05] <info>  sudo docker exec bf33578c_64ad87cf_0_1 ifconfig eth0 10.0.2.2/24
[2016-08-13 11:31:05] <info>  sudo docker exec bf33578c_64ad87cf_0_1 route add default gw 10.0.2.1
[2016-08-13 11:31:06] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_2
[2016-08-13 11:31:06] <info>  sudo docker exec bf33578c_64ad87cf_0_2 ifconfig eth0 10.0.2.3/24
[2016-08-13 11:31:06] <info>  sudo docker exec bf33578c_64ad87cf_0_2 route add default gw 10.0.2.1
[2016-08-13 11:31:06] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_3
[2016-08-13 11:31:06] <info>  sudo docker exec bf33578c_64ad87cf_0_3 ifconfig eth0 10.0.2.4/24
[2016-08-13 11:31:06] <info>  sudo docker exec bf33578c_64ad87cf_0_3 route add default gw 10.0.2.1
[2016-08-13 11:31:07] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_0_4
[2016-08-13 11:31:07] <info>  sudo docker exec bf33578c_64ad87cf_0_4 ifconfig eth0 10.0.2.5/24
[2016-08-13 11:31:07] <info>  sudo docker exec bf33578c_64ad87cf_0_4 route add default gw 10.0.2.1
[2016-08-13 11:31:08] <info>  sudo ovs-docker add-port br_64ad87cf eth0 bf33578c_64ad87cf_1_1
[2016-08-13 11:31:08] <info>  sudo docker exec bf33578c_64ad87cf_1_1 ifconfig eth0 10.0.2.6/24
[2016-08-13 11:31:08] <info>  sudo docker exec bf33578c_64ad87cf_1_1 route add default gw 10.0.2.1
[2016-08-13 11:31:08] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_router_4ae6ef3c_1
[2016-08-13 11:31:08] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 ifconfig eth0 10.0.3.1/24
[2016-08-13 11:31:09] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_0_1
[2016-08-13 11:31:09] <info>  sudo docker exec bf33578c_4ae6ef3c_0_1 ifconfig eth0 10.0.3.2/24
[2016-08-13 11:31:09] <info>  sudo docker exec bf33578c_4ae6ef3c_0_1 route add default gw 10.0.3.1
[2016-08-13 11:31:09] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_1_1
[2016-08-13 11:31:09] <info>  sudo docker exec bf33578c_4ae6ef3c_1_1 ifconfig eth0 10.0.3.3/24
[2016-08-13 11:31:09] <info>  sudo docker exec bf33578c_4ae6ef3c_1_1 route add default gw 10.0.3.1
[2016-08-13 11:31:10] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_2_1
[2016-08-13 11:31:10] <info>  sudo docker exec bf33578c_4ae6ef3c_2_1 ifconfig eth0 10.0.3.4/24
[2016-08-13 11:31:10] <info>  sudo docker exec bf33578c_4ae6ef3c_2_1 route add default gw 10.0.3.1
[2016-08-13 11:31:10] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_2_2
[2016-08-13 11:31:10] <info>  sudo docker exec bf33578c_4ae6ef3c_2_2 ifconfig eth0 10.0.3.5/24
[2016-08-13 11:31:10] <info>  sudo docker exec bf33578c_4ae6ef3c_2_2 route add default gw 10.0.3.1
[2016-08-13 11:31:11] <info>  sudo ovs-docker add-port br_4ae6ef3c eth0 bf33578c_4ae6ef3c_2_3
[2016-08-13 11:31:11] <info>  sudo docker exec bf33578c_4ae6ef3c_2_3 ifconfig eth0 10.0.3.6/24
[2016-08-13 11:31:11] <info>  sudo docker exec bf33578c_4ae6ef3c_2_3 route add default gw 10.0.3.1
[2016-08-13 11:31:11] <info>  sudo ovs-docker add-port br_60d9c00b_1_2 br_1_2 bf33578c_router_efc028af_1
[2016-08-13 11:31:11] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig br_1_2 20.0.0.1/30
[2016-08-13 11:31:12] <info>  sudo ovs-docker add-port br_60d9c00b_1_2 br_1_2 bf33578c_router_64ad87cf_1
[2016-08-13 11:31:12] <info>  sudo docker exec bf33578c_router_64ad87cf_1 ifconfig br_1_2 20.0.0.2/30
[2016-08-13 11:31:12] <info>  sudo ovs-docker add-port br_60d9c00b_1_3 br_1_3 bf33578c_router_efc028af_1
[2016-08-13 11:31:12] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig br_1_3 20.0.0.5/30
[2016-08-13 11:31:13] <info>  sudo ovs-docker add-port br_60d9c00b_1_3 br_1_3 bf33578c_router_4ae6ef3c_1
[2016-08-13 11:31:13] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 ifconfig br_1_3 20.0.0.6/30
[2016-08-13 11:31:13] <info>  sudo ovs-docker add-port br_60d9c00b_0_1 br_0_1 bf33578c_router_d2461479_1
[2016-08-13 11:31:13] <info>  sudo docker exec bf33578c_router_d2461479_1 ifconfig br_0_1 20.0.0.9/30
[2016-08-13 11:31:14] <info>  sudo ovs-docker add-port br_60d9c00b_0_1 br_0_1 bf33578c_router_efc028af_1
[2016-08-13 11:31:14] <info>  sudo docker exec bf33578c_router_efc028af_1 ifconfig br_0_1 20.0.0.10/30
[2016-08-13 11:31:14] <info>  sudo docker exec bf33578c_router_d2461479_1 route add -net 10.0.1.0 netmask 255.255.255.0 gw 20.0.0.10
[2016-08-13 11:31:14] <info>  sudo docker exec bf33578c_router_d2461479_1 route add -net 10.0.2.0 netmask 255.255.255.0 gw 20.0.0.10
[2016-08-13 11:31:14] <info>  sudo docker exec bf33578c_router_d2461479_1 route add -net 10.0.3.0 netmask 255.255.255.0 gw 20.0.0.10
[2016-08-13 11:31:14] <info>  sudo docker exec bf33578c_router_efc028af_1 route add -net 10.0.0.0 netmask 255.255.255.0 gw 20.0.0.9
[2016-08-13 11:31:14] <info>  sudo docker exec bf33578c_router_efc028af_1 route add -net 10.0.2.0 netmask 255.255.255.0 gw 20.0.0.2
[2016-08-13 11:31:15] <info>  sudo docker exec bf33578c_router_efc028af_1 route add -net 10.0.3.0 netmask 255.255.255.0 gw 20.0.0.6
[2016-08-13 11:31:15] <info>  sudo docker exec bf33578c_router_64ad87cf_1 route add -net 10.0.0.0 netmask 255.255.255.0 gw 20.0.0.1
[2016-08-13 11:31:15] <info>  sudo docker exec bf33578c_router_64ad87cf_1 route add -net 10.0.1.0 netmask 255.255.255.0 gw 20.0.0.1
[2016-08-13 11:31:15] <info>  sudo docker exec bf33578c_router_64ad87cf_1 route add -net 10.0.3.0 netmask 255.255.255.0 gw 20.0.0.1
[2016-08-13 11:31:15] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 route add -net 10.0.0.0 netmask 255.255.255.0 gw 20.0.0.5
[2016-08-13 11:31:15] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 route add -net 10.0.1.0 netmask 255.255.255.0 gw 20.0.0.5
[2016-08-13 11:31:15] <info>  sudo docker exec bf33578c_router_4ae6ef3c_1 route add -net 10.0.2.0 netmask 255.255.255.0 gw 20.0.0.5
[2016-08-13 11:31:15] <info>  网络配置完成!
[2016-08-13 11:31:15] <info>  添加vnc设置完成!
[2016-08-13 11:31:15] <info>  数据库存储完成!
[2016-08-13 11:31:15] <info>  拓扑创建成功!
[2016-08-13 11:37:41] <info>  virsh destroy bf33578c_d2461479_0_1
[2016-08-13 11:37:41] <info>  virsh undefine bf33578c_d2461479_0_1
[2016-08-13 11:37:41] <info>  rm -f /var/lib/libvirt/images/bf33578c_d2461479_0_1
[2016-08-13 11:37:41] <info>  删除kvm完成!
[2016-08-13 11:37:58] <info>  sudo  docker-compose -f /home/hitnslab/docker/demo/user/bf33578c/docker-compose.yaml  stop
[2016-08-13 11:37:58] <info>  sudo  docker-compose -f /home/hitnslab/docker/demo/user/bf33578c/docker-compose.yaml  rm  -f
[2016-08-13 11:37:58] <info>  删除docker完成!
[2016-08-13 11:37:58] <info>  sudo ovs-vsctl del-br br_60d9c00b_1_2
[2016-08-13 11:37:58] <info>  sudo ovs-vsctl del-br br_60d9c00b_1_3
[2016-08-13 11:37:58] <info>  sudo ovs-vsctl del-br br_60d9c00b_0_1
[2016-08-13 11:37:59] <info>  sudo ovs-vsctl del-br br_d2461479
[2016-08-13 11:37:59] <info>  sudo ovs-vsctl del-br br_efc028af
[2016-08-13 11:37:59] <info>  sudo ovs-vsctl del-br br_64ad87cf
[2016-08-13 11:37:59] <info>  sudo ovs-vsctl del-br br_4ae6ef3c
[2016-08-13 11:37:59] <info>  删除ovs网桥完成!
[2016-08-13 11:37:59] <info>  删除vnc端口完成!
[2016-08-13 14:07:48] <info>  virsh destroy bf33578c_d2461479_0_1
[2016-08-13 14:07:48] <info>  virsh undefine bf33578c_d2461479_0_1
[2016-08-13 14:07:48] <info>  rm -f /var/lib/libvirt/images/bf33578c_d2461479_0_1
[2016-08-13 14:07:48] <info>  删除kvm完成!
[2016-08-13 14:08:19] <info>  sudo  docker-compose -f /home/hitnslab/docker/demo/user/bf33578c/docker-compose.yaml  stop
[2016-08-13 14:08:19] <info>  sudo  docker-compose -f /home/hitnslab/docker/demo/user/bf33578c/docker-compose.yaml  rm  -f
[2016-08-13 14:08:19] <info>  删除docker完成!
[2016-08-13 14:08:19] <info>  sudo ovs-vsctl del-br br_60d9c00b_1_2
[2016-08-13 14:08:19] <info>  sudo ovs-vsctl del-br br_60d9c00b_1_3
[2016-08-13 14:08:19] <info>  sudo ovs-vsctl del-br br_60d9c00b_0_1
[2016-08-13 14:08:19] <info>  sudo ovs-vsctl del-br br_d2461479
[2016-08-13 14:08:19] <info>  sudo ovs-vsctl del-br br_efc028af
[2016-08-13 14:08:19] <info>  sudo ovs-vsctl del-br br_64ad87cf
[2016-08-13 14:08:19] <info>  sudo ovs-vsctl del-br br_4ae6ef3c
[2016-08-13 14:08:19] <info>  删除ovs网桥完成!
[2016-08-13 14:08:19] <info>  删除vnc端口完成!
